(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8371],{88305:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r=n(59937),o=n.n(r),c=n(809),i=n.n(c),a=n(28140),u=n(92447),s=n(32292),l=n(69762),f=n(87835),v=n(99246),p=n(20544),d="/static/content/checkout";function O(e,t){return e.localeCompare(t)}function y(e,t){return"".concat(d,"/").concat(e).concat(function(e){return Object.keys(e).sort(O).reduce((function(t,n){return"".concat(t,";").concat(n,"=").concat(e[n])}),"")}(t))}function b(e){var t=function(e){var t=e.split("/").pop().split(";"),n=(0,l.Z)(t),r=n[0],o=n.slice(1).reduce((function(e,t){if(null!==t&&void 0!==t&&t.length){var n=t.split("="),r=(0,s.Z)(n,2),o=r[0],c=r[1];"env"!==o&&"host"!==o&&(e[o]=c)}return e}),{});return{resourceName:r,variables:o}}(e);if(t)return y(t.resourceName,t.variables)}var g=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(null===n||void 0===n||!n.length)throw new Error("No fetch method is provided");var o=function(){var t=(0,u.Z)(i().mark((function t(){var r,o,c,u,s,l=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=l.length,o=new Array(r),c=0;c<r;c++)o[c]=l[c];if(u=n[0],!(s=n.slice(1)).length){t.next=6;break}return t.abrupt("return",u.apply(void 0,o).catch((function(){return e.apply(void 0,(0,a.Z)(s)).apply(void 0,o)})));case 6:return t.abrupt("return",u.apply(void 0,o));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return o};function m(e){return!(null!==e&&void 0!==e&&e.includes(v.R.P_UC_AEM_AUTHOR)||null!==e&&void 0!==e&&e.includes(v.R.UC_AEM_PUBLISH))}function T(e){return null===e||void 0===e?void 0:e.includes(v.R.P_UC_AEM_AUTHOR)}function E(e,t,n){return(n||t&&(0,p.D)()!==f.T.PRODUCTION)&&(e=e.replace("odin.adobe.com","commerce-stg.adobe.com")),t&&(e="".concat(e,";").concat(t)),e}var _=n(10982),C=n(59831),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=function(){var t=arguments.length<=0?void 0:arguments[0],n=b(t);if(n)return e("".concat((0,C.jU)()).concat(o().STORE).concat(n),arguments.length<=1?void 0:arguments[1]);throw new Error("Cannot find a static URL for content")},i=function(){for(var t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return o[0]=E(o[0],r,n),e.apply(void 0,o).then((function(e){if(e.ok)return e;throw new Error("Failed to fetch AEM resource")}))};return t?g(c,i):g(i,c)},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return h(_.fetch,!t&&m(e),T(e),t)}},40102:function(e,t,n){"use strict";n.d(t,{O:function(){return U}});var r=n(809),o=n.n(r),c=n(26265),i=n(32292),a=n(92447),u=n(38347),s=n(67294),l=n(34937),f=n(27261),v=n(74047),p=n(52700),d=n(88305),O=n(71439),y=n(73864),b=n(15074),g=n(87835),m=n(99246),T=n(20544);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(){var e=(0,f.Z)(["\n        ","\n      "]);return C=function(){return e},e}var h=new Set(y.SUPPORTED_VALUES.LANGUAGES),P=function(){function e(t,n){(0,v.Z)(this,e),(0,c.Z)(this,"client",void 0),(0,c.Z)(this,"logger",void 0),this.client=n}return(0,p.Z)(e,[{key:"fetch",value:function(){var e=(0,a.Z)(o().mark((function e(t,n){var r,c,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.query({query:(0,O.gql)(C(),t.toQuery()),variables:n,context:{content:!0}});case 2:if(r=e.sent,c=r.data,!(i=r.error)){e.next=7;break}throw i;case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),I=function(){function e(t){(0,v.Z)(this,e),(0,c.Z)(this,"logger",void 0),this.logger=t}return(0,p.Z)(e,[{key:"fetch",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(!h.has(t.locale))return Promise.reject(new Error("Unsupported content language"));var c=null===r||void 0===r?void 0:r.includes(m.R.P_UC_AEM_AUTHOR);c&&(t._ts="".concat(Date.now()));var i={logger:this.logger,timeout:y.DEFAULT_HTTP_TIMEOUT};return(0,b.fetchPersistentQuery)("checkout/".concat(n),_(_({},t),{},{env:(0,T.D)()}),{fetchOptions:i,fetch:(0,d.Z)(r,o)},g.T.PRODUCTION).then((function(e){return e.data}))}}]),e}(),A=function(){function e(t,n){(0,v.Z)(this,e),(0,c.Z)(this,"fetcher",void 0),this.fetcher=void 0===n?new I(t):new P(t,n)}return(0,p.Z)(e,[{key:"fetch",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return this.fetcher.fetch(e,t,n,r,o)}}]),e}();function N(){var e=(0,f.Z)(["\n  query GET_PERSONALIZED_CONTENT($input: PersonalizedContentInput!) {\n    personalizedContent(input: $input) {\n      surfaceId\n      containers {\n        containerId\n        containerLabel\n        data\n        dataType\n        analytics {\n          actionBlockId\n          campaignId\n          containerId\n          controlGroupId\n          treatmentId\n          variationId\n        }\n      }\n    }\n  }\n"]);return N=function(){return e},e}var D=(0,O.gql)(N());function w(e,t,n,r,o){return{input:{clientId:e,country:t,locale:n,surfaceId:"unified_checkout_v3",svar:r,additionalParameters:{name:"comSourcePageName",value:o}}}}var L=n(96029),S=n(65455),j=n(10975),M=n(19291),Z=s.createElement;function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(e,t){return function(n){var r=function(t){var r=t.content,o=(0,u.Z)(t,["content"]);return Z(l.ContentEntryProvider,{value:r,model:e},Z(n,o))};return r.getInitialProps=function(){var r=(0,a.Z)(o().mark((function r(c){var a,u,s,l,f,v,p,d,O,y,b,g,T,E,_,C,h,P,I,N,Z,R,U,K,F,G,x,H,B,W,q,V;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=c.store,l=c.logger,f=c.features,v=c.apolloClient,p=s.getState(),d=s,O=(0,S.n$)(p),(0,M.Lf)()||null===f||void 0===f||!f.includes(m.R.UC_PERSONALIZED_CONTENT)){r.next=19;break}return P=null===(y=d.getAccessToken)||void 0===y?void 0:y.call(d),I=(0,S.mT)(p),N=(0,L.i2)(p),Z=(0,L.tD)(p),R={Cookie:null===(b=c.req)||void 0===b||null===(g=b.headers)||void 0===g?void 0:g.cookie},P&&(R[j.A.name.AUTHORIZATION]="Bearer ".concat(P)),r.next=13,null===v||void 0===v?void 0:v.query({query:D,variables:w(N,I,O,Z,t),context:{headers:R}});case 13:U=r.sent,K={},F=[],null===U||void 0===U||null===(T=U.data)||void 0===T||null===(E=T.personalizedContent)||void 0===E||null===(_=E.containers)||void 0===_||_.forEach((function(e){K[e.containerLabel]=e.data,null!==e&&void 0!==e&&e.analytics&&F.push(null===e||void 0===e?void 0:e.analytics)})),null===(C=d.setPersonalizedContentVariationsState)||void 0===C||C.call(d,K),null===(h=d.setPersonalizedContentAnalyticsData)||void 0===h||h.call(d,F);case 19:return G=(null===(a=d.getPersonalizedContentVariationByAEMQueryName)||void 0===a?void 0:a.call(d,t))||"",x=new A(l).fetch(e,{locale:O},t,f,G),H=null===(u=n.getInitialProps)||void 0===u?void 0:u.call(n,c),r.next=24,Promise.all([H,x]);case 24:return B=r.sent,W=(0,i.Z)(B,2),q=W[0],V=W[1],r.abrupt("return",k(k({},q),{},{content:V}));case 29:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),r}}},21346:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});var r=n(67294),o=n(99246),c=n(4190),i=n(52007),a=function(){var e=(0,r.useState)({}),t=e[0],n=e[1],a=(0,r.useState)(!1),u=a[0],s=a[1],l=(0,c.useFeatureFlags)(o.R.UC_USE_ANALYTICS_STATE_HOOK)[o.R.UC_USE_ANALYTICS_STATE_HOOK],f=t&&!!Object.keys(t).length;return(0,i.useTrackState)(t,l&&!u&&f),(0,r.useEffect)((function(){Object.keys(t||{}).length&&s(!0)}),[t]),n}},96671:function(e,t,n){"use strict";n.d(t,{g:function(){return r},E:function(){return o}});var r={Monthly:"MONTHLY",Yearly:"ANNUAL"},o={Base:"BASE",Promotion:"PROMOTION",Trial:"TRIAL"}},37629:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var r={ACTION_CONTAINER_BACK_CLICK:"ACTION_CONTAINER_BACK_CLICK",ACTION_CONTAINER_BUTTON_CLICK:"ACTION_CONTAINER_BUTTON_CLICK",ADDON_CLICK:"ADDON_CLICK",COMMITMENT_SELECTED:"COMMITMENT_SELECTED",CONFIRMATION_PAGE_ACTION_CLICK:"CONFIRMATION_PAGE_ACTION_CLICK",DOWNLOAD_NOW_CLICK:"DOWNLOAD_NOW_CLICK",GET_STARTED_CLICK:"GET_STARTED_CLICK",LEARN_MORE_CLICK:"LEARN_MORE_CLICK",PAGE_LOAD:"PAGE_LOAD",RECOMMENDATION_CLICK:"RECOMMENDATION_CLICK",SEGMENT_SELECTED:"SEGMENT_SELECTED",SET_PASSWORD_CLICK:"SET_PASSWORD_CLICK",UPGRADE_PLAN_CLICK:"UPGRADE_PLAN_CLICK",VIEW_MORE_CLICK:"VIEW_MORE_CLICK"}},13164:function(e,t,n){"use strict";n.d(t,{T:function(){return ne}});var r,o,c,i=n(809),a=n.n(i),u=n(92447),s=n(26265),l=n(92586),f=n(37629),v=n(61792),p=n(37244),d=n.n(p),O=n(81834),y=n(44586),b=(0,y.Z)(),g=n(20544),m=n(36623),T=n(65455),E=n(28919),_=n(41681),C=n(90325),h=n(96029),P=n(77081),I=n(19291),A=n(96671),N=n(29843),D=n(62482),w=n(8703);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){var n,r=(0,m.jd)(e);null===r&&null!==t&&void 0!==t&&t.selectedOfferId&&(r=null===(n=(0,C.LR)(t.selectedOfferId,t.offers))||void 0===n?void 0:n.offer);var o={cartItems:(0,m.fq)(e),country:(0,T.mT)(e),isAuthenticatedUser:(0,v.PQ)(e),language:(0,T.n$)(e),orderData:(0,m.FP)(e),offerData:r,session:(0,P.Gg)(e),device:(0,v.Ax)(e),urlParams:(0,h.vl)(e),userProfile:(0,v.et)(e)};return S(S(S(S(S(S({},function(e){var t=e.country,n=e.device,r=e.language,o=e.session,c=e.userProfile,i={"event.dts_start":G(),"event.workflow":"Checkout","event.category":"WEB","event.language":"".concat(r,"_").concat(t.toUpperCase()),"event.session_guid":o.clientSessionId,"event.url":(0,E.tK)(),"event.user_agent":n.src},a=(0,N.H)(document.referrer);if(a&&a.url){var u=a.url,s=a.params;s&&Object.entries(s).length&&(u="".concat(u,"?").concat((0,D.tW)(s))),i["event.referrer"]=u}var l=c.userId,f=c.serviceAccounts;l&&(i["event.user_guid"]=l);f&&f[0]&&(i["user.service_code"]=f[0].serviceCode,i["user.service_level"]=f[0].serviceLevel);return i["event.visitor_guid"]=function(){var e,t,n;return(0,I.Lf)()&&null!==(e=window._satellite)&&void 0!==e&&e.getVisitorId?null===(t=window._satellite)||void 0===t||null===(n=t.getVisitorId())||void 0===n?void 0:n.getMarketingCloudVisitorID():null}()||o.clientSessionId,i}(o)),function(e){var t,n=e.urlParams,r=e.offerData,o=null!==(t=null===r||void 0===r?void 0:r.analytics)&&void 0!==t?t:{},c={};n[d().app.CAMPAIGNID.name]&&(c["exp.campaign_id"]=n[d().app.CAMPAIGNID.name]);o.campaignId&&(c["exp.campaign_id"]=o.campaignId);o.variationId&&(c["exp.variation_id"]=o.variationId);return c}(o)),function(e){var t=e.orderData,n=e.offerData,r=e.cartItems,o={};if(n){var c;o["content.size"]=n.term||n.commitment,o["content.author"]=n.customerSegment,o["content.type"]=n.marketSegments,r.length?r.forEach((function(e){var t=(0,m.rL)(e);((0,m.Xp)(t)||(0,m.tN)(t)&&c!==A.E.Trial||c!==A.E.Trial&&c!==A.E.Promotion)&&(c=t.offerType)})):c=n.offerType,o["content.extension"]=c}if(t){var i;t.id&&(o["content.id"]=t.id),t.marketSegment&&(o["content.type"]=t.marketSegment),t.status&&(o["content.status"]=t.status);var a=null===(i=t.paymentInstrument)||void 0===i?void 0:i.category;a&&(o["content.category"]=a)}return o}(o)),function(e){var t=e.device,n=e.urlParams,r=n[d().app.CTX.name],o={"source.client_id":(0,_.$M)(r),"source.platform":"Web","source.os_version":"".concat(t.os," ").concat(t.version)};n[d().app.CLIENT_ID.name]&&(o["source.name"]=n[d().app.CLIENT_ID.name]);return o}(o)),function(e){var t=e.urlParams,n=b,r={"context.guid":t[d().app.CONTEXT_GUID.name]||n,"context.init":!0};t[d().app.CONTEXT_PARAMS.name]&&(r["context.params"]=t[d().app.CONTEXT_PARAMS.name]);return r}(o)),function(e){var t=e.urlParams;return{"env.fw.name":F(e),"env.com.name":"UC","env.com.version":"3.0","env.svc.name":t[d().app.MV.name],"env.svc.version":t[d().app.PROMOID.name]}}(o))}function M(e){var t=(0,m.fq)(e),n=(0,m.FP)(e),r=n.orderNumber,o=[],c=0;t.forEach((function(e){o.push(S({},function(e,t){var n={},r=(0,m.rL)(e);n["trn.product"]=r.productArrangementCode,n["trn.quantity"]=e.quantity,n["trn.amount"]=(0,m.rp)(r.offerPrice,r.offerType);var o=(0,y.Z)().substring(0,4);return n["trn.number"]="".concat(t,"-").concat(o),n["content.name"]=r.productArrangementCode,n["event.context_guid"]=r.id,n["content.extension"]=r.offerType,n}(e,r))),c+=e.quantity}));var i={"trn.number":r,"trn.product":"Order","trn.amount":n.cartPrice.totalWithoutTax,"trn.quantity":c};return o.push(i),o}var Z=(r={},(0,s.Z)(r,w.v.INDIVIDUAL,"personal-self"),(0,s.Z)(r,w.v.EDU,"student-teacher"),(0,s.Z)(r,w.v.TEAM,"team-business"),r);function R(e){var t,n=null===(t=(0,C.LR)(null===e||void 0===e?void 0:e.selectedOfferId,null===e||void 0===e?void 0:e.offers))||void 0===t?void 0:t.offer,r=(0,C.IG)(n);return Z[r]}var k=(o={},(0,s.Z)(o,O.Commitment.MONTH,"Monthly"),(0,s.Z)(o,O.Commitment.YEAR,"Yearly"),o),U=(c={},(0,s.Z)(c,O.Term.MONTHLY,"Monthly"),(0,s.Z)(c,O.Term.ANNUAL,"upfront"),c);function K(e){var t,n=null===(t=(0,C.LR)(null===e||void 0===e?void 0:e.selectedOfferId,null===e||void 0===e?void 0:e.offers))||void 0===t?void 0:t.offer;if(n){var r,o={"event.count":String((0,m.rp)(n.offerPrice,n.offerType)),"event.value":null===(r=n.offerContent)||void 0===r?void 0:r.productName};return null!==e&&void 0!==e&&e.licenses&&(o.licenses=e.licenses),o}return{}}function F(e){return e.isAuthenticatedUser?"Return User":"New User"}function G(){var e,t=new Date,n=t.toISOString(),r=t.getTimezoneOffset()/60,o=r>0?"-":"+",c=Math.abs(r),i=(e=Math.floor(c))<10?"0".concat(e):e.toString(),a="00";switch(c%1){case.25:a="15";break;case.5:a="30";break;case.75:a="45"}var u="".concat(o).concat(i).concat(a);return n.replace("Z",u)}var x,H=n(10975),B=n(57332),W=n(67294),q=n(85686),V=n(55988),z=n(12510);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={type:{render:"render",click:"click"},subcategory:{academic:"Academic Verification",bundle:"Plan",commitment:"Subscription",confirmation:"Order Confirmation",email:"Email",payment:"Payment",recommendation:"Additional Offer",segmentation:"Get Started",addon:"Addon",upgradePlan:"Upgrade Plan"},subtype:{Added:"add",back:"back",continue:"continue",downloadNow:"download-now",getStarted:"get-started",learnMore:"learn-more",notNow:"not-now",page:"page",preference:"preference",Removed:"remove",subscribe:"subscribe",setPassword:"set-password",subscription:"subscription",Upgraded:"upgrade",verification:"verification",viewMore:"view-more"}},Q=(x={},(0,s.Z)(x,f.P.ACTION_CONTAINER_BACK_CLICK,{processData:function(e,t){return{customFields:{"event.subcategory":$.subcategory[t],"event.type":$.type.click,"event.subtype":$.subtype.back}}}}),(0,s.Z)(x,f.P.ACTION_CONTAINER_BUTTON_CLICK,{processData:function(e,t){var n,r;switch(n=$.subtype.continue,t){case B.Z.EMAIL:r=(0,v.gV)(e);break;case B.Z.PAYMENT:n=(0,m.OS)(e)?$.subtype.verification:$.subtype.subscribe;break;case B.Z.RECOMMENDATION:n=$.subtype.notNow}var o={"event.subcategory":$.subcategory[t],"event.type":$.type.click,"event.subtype":n};return r&&(o["event.value"]=r),{customFields:o}}}),(0,s.Z)(x,f.P.COMMITMENT_SELECTED,{processData:function(e,t,n){return{customFields:X({"event.subcategory":$.subcategory.commitment,"event.type":$.type.click,"event.subtype":$.subtype.subscription},function(e){var t,n=(null===(t=(0,C.LR)(null===e||void 0===e?void 0:e.selectedOfferId,null===e||void 0===e?void 0:e.offers))||void 0===t?void 0:t.offer)||{},r=n.commitment,o=n.term,c=n.offerPrice,i=n.offerType,a="".concat(k[r]," - Billed ").concat(U[o]);return{"event.count":String((0,m.rp)(c,i)),"event.value":a}}(n))}}}),(0,s.Z)(x,f.P.DOWNLOAD_NOW_CLICK,{processData:function(){return{customFields:{"event.subcategory":$.subcategory.confirmation,"event.type":$.type.click,"event.subtype":$.subtype.downloadNow}}}}),(0,s.Z)(x,f.P.GET_STARTED_CLICK,{processData:function(){return{customFields:{"event.subcategory":$.subcategory.confirmation,"event.type":$.type.click,"event.subtype":$.subtype.getStarted}}}}),(0,s.Z)(x,f.P.LEARN_MORE_CLICK,{processData:function(e,t){return{customFields:{"event.subcategory":$.subcategory[t],"event.type":$.type.click,"event.subtype":$.subtype.learnMore}}}}),(0,s.Z)(x,f.P.PAGE_LOAD,{processData:function(e,t,n){var r={"event.subcategory":$.subcategory[t],"event.type":$.type.render,"event.subtype":$.subtype.page},o=[];switch(t){case B.Z.SEGMENTATION:r["event.value"]=R(n);break;case B.Z.CONFIRMATION:o=M(e)}return{customFields:r,cartItems:o}}}),(0,s.Z)(x,f.P.RECOMMENDATION_CLICK,{processData:function(e,t,n){return{customFields:X({"event.subcategory":$.subcategory.recommendation,"event.type":$.type.click,"event.subtype":$.subtype[n.action]},K(n))}}}),(0,s.Z)(x,f.P.ADDON_CLICK,{processData:function(e,t,n){return{customFields:X({"event.subcategory":$.subcategory.addon,"event.type":$.type.click,"event.subtype":$.subtype[n.action]},K(n))}}}),(0,s.Z)(x,f.P.UPGRADE_PLAN_CLICK,{processData:function(e,t,n){return{customFields:X({"event.subcategory":$.subcategory.upgradePlan,"event.type":$.type.click,"event.subtype":$.subtype.Upgraded},K(n))}}}),(0,s.Z)(x,f.P.SEGMENT_SELECTED,{processData:function(e,t,n){return{customFields:{"event.subcategory":$.subcategory.segmentation,"event.type":$.type.click,"event.subtype":$.subtype.preference,"event.value":R(n)}}}}),(0,s.Z)(x,f.P.SET_PASSWORD_CLICK,{processData:function(){return{customFields:{"event.subcategory":$.subcategory.confirmation,"event.type":$.type.click,"event.subtype":$.subtype.setPassword}}}}),(0,s.Z)(x,f.P.VIEW_MORE_CLICK,{processData:function(e,t){return{customFields:{"event.subcategory":$.subcategory[t],"event.type":$.type.click,"event.subtype":$.subtype.viewMore}}}}),(0,s.Z)(x,f.P.CONFIRMATION_PAGE_ACTION_CLICK,{processData:function(e,t,n){return{customFields:{"event.subcategory":$.subcategory[t],"event.type":$.type.click,"event.subtype":n.action}}}}),x);function J(e){var t={project:"ecom-web-service",environment:(0,g.D)(),time:G(),ingesttype:"dunamis"},n=[];return e.forEach((function(e){e["event.guid"]=(0,y.Z)();var r=X(X({},t),{},{data:X({},e)});n.push(r)})),n}function ee(){return(ee=(0,u.Z)(a().mark((function e(t){var n,r,o,c,i,u,f,p=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:{},o=(0,v.hP)(t),c=(0,T.dm)(t),i=c.dunamisEndpoints,n={},(0,s.Z)(n,H.A.name.CONTENT_TYPE,"application/json"),(0,s.Z)(n,H.A.name.X_API_KEY,"unified_checkout_client"),u=n,f=X(X({},o&&(0,s.Z)({},H.A.name.AUTHORIZATION,"Bearer ".concat(o))),u),e.abrupt("return",l.Z.post(i,{body:JSON.stringify(r),headers:f}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t,n,r,o){if(!(0,I.Lf)())return Promise.resolve({});try{if(Q[e]){var c=Q[e].processData(t,r,o),i=J(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[],o=j(e,arguments.length>3?arguments[3]:void 0);if(n.length)n.forEach((function(e){var n=X(X(X({},t),o),e);r.push(n)}));else{var c=X(X({},t),o);r.push(c)}return r}(t,c.customFields,c.cartItems,o));if(i)return function(e){return ee.apply(this,arguments)}(t,{events:i})}}catch(a){n.error({label:"dunamis",error:a},"Error in sending Dunamis Event")}}var ne=function(){var e=(0,z.useStore)().getState(),t=(0,q.useLogger)(),n=(0,V.t)().currentRoute;return(0,W.useCallback)((function(r,o){return te(r,e,t,n,o)}),[n,t,e])}},92586:function(e,t,n){"use strict";var r=n(809),o=n.n(r),c=n(92447),i=n(26265),a=n(49675),u=n(41681);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l(l({},e),{},{response:function(e){if(+(null===e||void 0===e?void 0:e.status)>=300)throw e;return e}}),n=(0,a.Z)(t),r=function(){var e=(0,c.Z)(o().mark((function e(t,r){var c,i,a,s,f,v,p=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=p.length>2&&void 0!==p[2]?p[2]:{},i=p.length>3?p[3]:void 0,a=(0,u.ft)(r),s=(0,u.qd)(),f=l(l({},t&&{Authorization:"Bearer ".concat(t)}),c),e.prev=5,e.next=8,n.get("".concat(s,"/ims/coppa/status?client_id=").concat(a.clientId),{logger:i,credentials:"include",headers:f});case 8:return v=e.sent,e.abrupt("return",v);case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}();return l(l({},n),{},{getCoppaStatus:r})}()},49675:function(e,t,n){"use strict";n.d(t,{L:function(){return s},Z:function(){return l}});var r,o=n(26265),c=n(73864),i=n(10982);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT"}(r||(r={}));var s={DEFAULT_HTTP_TIMEOUT:c.DEFAULT_HTTP_TIMEOUT,SHORT_HTTP_TIMEOUT:c.SHORT_HTTP_TIMEOUT,SOCKET_TIMEOUT:c.DEFAULT_HTTP_TIMEOUT,IMS_HEALTH_CHECK_TIMEOUT:3e3};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=u({},e),n=(0,i.intercept)(t,i.fetch),o=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n(e,u({timeout:c.DEFAULT_HTTP_TIMEOUT},t)).then((function(e){return e.text().then((function(t){var n=t?JSON.parse(t):{};return r.includeHeaders?{data:n,headers:e.headers}:n}))}))},a=function(e,t,n){return o(e,u({method:r.GET},t),n)},s=function(e,t,n){return o(e,u({method:r.POST},t),n)},l=function(e,t,n){return o(e,u({method:r.PUT},t),n)};return{_fetch:n,get:a,post:s,put:l}}},7048:function(){}}]);