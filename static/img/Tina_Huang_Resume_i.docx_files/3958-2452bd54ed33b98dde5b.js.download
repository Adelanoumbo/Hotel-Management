(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3958],{30137:function(e,n,t){"use strict";t.d(n,{b:function(){return y},t:function(){return ie}});var r=t(67294),o=t(12398),a=t(93101),u=t(69429),i=t(298),c=t(49313),l=t(34937),s=(0,l.defineContents)("externalworkflowpage",{headerDefault:{id:"headerDefault",type:"string",placeholderContent:"If you've made your purchase, get started now. (PH)"},messageDefault:{id:"messageDefault",type:"string",placeholderContent:"Please complete the purchase in your web browser. If you would like to purchase later, you can cancel now. (PH)"},cancelButtonDefault:{id:"cancelButtonDefault",type:"string",placeholderContent:"Cancel (PH)"},continueButtonDefault:{id:"continueButtonDefault",type:"string",placeholderContent:"Get Started (PH)"},headerChangePlan:{id:"headerChangePlan",type:"string",placeholderContent:"Switch your plan in your Adobe Account. (PH)"},messageChangePlan:{id:"messageChangePlan",type:"string",placeholderContent:"Once you are done, come back here and click Continue to proceed. If you would like to continue later, you can cancel for now. (PH)"},cancelButtonChangePlan:{id:"cancelButtonChangePlan",type:"string",placeholderContent:"Cancel (PH)"},continueButtonChangePlan:{id:"continueButtonChangePlan",type:"string",placeholderContent:"Continue (PH)"}}),f=t(8703),d=t(66537),p=t(52253),v=t(11051),g=t(52007),m=t(3971),h=t(2037),C=r.createElement,y=(0,m.withAEMContent)("checkout/external",s.__contentType,s)((function(e){var n=e.workflow,t=(0,l.useContentEntry)(s),m=(0,v.useCommerceAppContext)().emitMessage,y=(0,g.useTrackEvent)();(0,r.useEffect)((function(){var e=(0,i.W6)("".concat(n).concat(p.ps.COMPLETE_PURCHASE_WEB,":").concat(p.ps.MODAL),"".concat(p.ps.COMPLETE_PURCHASE_WEB));y(e)}),[y,n]);var E=function(e){switch(e){case f.q.CHANGE_PLAN:return{header:t.get(s.headerChangePlan),message:t.get(s.messageChangePlan),cancelButton:t.get(s.cancelButtonChangePlan),continueButton:t.get(s.continueButtonChangePlan)};default:return{header:t.get(s.headerDefault),message:t.get(s.messageDefault),cancelButton:t.get(s.cancelButtonDefault),continueButton:t.get(s.continueButtonDefault)}}}(n),O=E.header,T=E.message,P=E.cancelButton,_=E.continueButton;return C("div",{className:u.Z.container},C("div",{className:u.Z.closeContainer},C(o.default,{variant:"action",quiet:!0,onClick:function(){m(v.SystemMessage.CLOSE)},icon:C(a.default,{size:"L"}),"data-testid":"closeButton"})),C("div",{className:u.Z.center},C(d.InfoLight,{size:"L","data-testid":"externalWorkflowIcon"}),C(c.X6,null,O),C("p",{className:u.Z.message},T),C("div",{className:u.Z.buttonContainer},C(o.default,{variant:"secondary","data-testid":"externalWorkflowCancelButton",onClick:function(){var e=(0,i.W6)("".concat(n).concat(p.ps.COMPLETE_PURCHASE_WEB,":").concat(p.ps.CANCEL),"".concat(p.ps.COMPLETE_PURCHASE_WEB).concat(p.ps.CANCEL));y(e),m(v.SystemMessage.CLOSE)}},P),C(o.default,{variant:"cta","data-testid":"externalWorkflowContinueButton",onClick:function(){var e=(0,i.W6)("".concat(n).concat(p.ps.COMPLETE_PURCHASE_WEB,":").concat(p.ps.GET_STARTED),"".concat(p.ps.COMPLETE_PURCHASE_WEB).concat(p.ps.GET_STARTED));y(e),m(v.SystemMessage.CLOSE,{status:h.WorkflowStatus.ORDER_COMPLETE})}},_))))})),E=t(46829),O=t(55077),T=t(27261),P=t(71439);function _(){var e=(0,T.Z)(["\n  query UserSubscriptionChangePlanQuery($offerId: ID!, $subscriptionId: ID!) {\n    user {\n      id\n      userSubscription(subscriptionId: $subscriptionId) {\n        id\n        changePlanAllowed(offerId: $offerId)\n      }\n    }\n  }\n"]);return _=function(){return e},e}function b(){var e=(0,T.Z)(["\n  fragment IneligiblePurchaseOrderFragment on Order {\n    marketSegment\n    country\n    cart {\n      cartItems {\n        offerId\n        conflicts {\n          offerId\n          reasonCode\n          subscriptionId\n        }\n      }\n    }\n  }\n"]);return b=function(){return e},e}function I(){var e=(0,T.Z)(["\n  query getOfferForIneligiblePurchaseQuery($offerId: ID!, $country: String!) {\n    offer(id: $offerId, country: $country) {\n      ...IneligiblePurchaseOfferFragment\n    }\n  }\n  ","\n"]);return I=function(){return e},e}function A(){var e=(0,T.Z)(["\n  fragment IneligiblePurchaseOfferFragment on Offer {\n    id\n    commitment\n    term\n    productArrangement {\n      cloud\n    }\n    offerContent {\n      productName\n      productIconUrls\n    }\n  }\n"]);return A=function(){return e},e}var S=(0,P.gql)(A()),w=(0,P.gql)(I(),S),k=(0,P.gql)(b()),R=(0,P.gql)(_()),D=function(e,n,t){return e.query({query:w,variables:{offerId:n,country:t}}).then((function(e){return e.data.offer}))},U=t(62482),N=t(36623),x=t(26265),Z=t(809),L=t.n(Z),M=t(92447),B=t(38347),H=t(91229),j=t(85564),F=t.n(j),q=t(37244),G=t.n(q),W=t(99246),$=t(61792),z=t(65455),V=t(73728),Y=t(12510),K=t(4190),X=t(62452),Q=t(85686),J=r.createElement,ee=function(e){return J(E.ApolloConsumer,null,(function(n){return J(ne,(0,H.Z)({client:n},e))}))},ne=function(e){var n=e.client,t=e.openUrl,o=e.onFooterClicked,a=(0,B.Z)(e,["client","openUrl","onFooterClicked"]),u=(0,Q.useLogger)(),i=(0,r.useContext)(Y.StoreContext).getState(),c=(0,z.n$)(i),l=(0,Y.useSelector)(N.NO),s=(0,$.hP)(i),f=(0,$.et)(i),d=null===f||void 0===f?void 0:f.userId,p=(0,K.useFeatureFlags)(W.R.UC_I2T_PES)[W.R.UC_I2T_PES],v=(0,X.tD)(),g=v.redirect,m=v.cancelUrl,h=null!==t&&void 0!==t?t:g,C=(0,X.Sd)(),y=n.readFragment({fragment:k,id:"Order:".concat(l),fragmentName:"IneligiblePurchaseOrderFragment"}),E=(0,r.useCallback)(function(){var e=(0,M.Z)(L().mark((function e(t,r){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(n,t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[n]),T=(0,r.useCallback)((function(e,t){return function(e,n,t,r){return e.query({query:R,variables:{offerId:n,subscriptionId:t},context:r,fetchPolicy:"network-only"}).then((function(e){var n=(e.data.user||{}).userSubscription;return null===n||void 0===n?void 0:n.changePlanAllowed})).catch((function(){return!1}))}(n,e,t,s?{headers:{authorization:s}}:{})}),[n,s]),P=(0,r.useCallback)(function(){var e=(0,M.Z)(L().mark((function e(t){var r,o;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,O.getIndividualToTeamUpgradeOffers)(n,t,d,c);case 2:return r=e.sent,o=r.data,e.abrupt("return",{data:o});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[n,c,d]),_=(0,r.useCallback)(function(){var e=(0,M.Z)(L().mark((function e(n){var t,r,o,a,i,c;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.info("Checking whether user is eligible for I2T upgrade in case of duplicate purchase"),p){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,P(n);case 5:if(i=e.sent,c=i.data,!((null===c||void 0===c||null===(t=c.individualToTeamUpgradeOffers)||void 0===t||null===(r=t.activeOffersResult)||void 0===r?void 0:r.filter((function(e){var n,t;return null===e||void 0===e||null===(n=e.offer)||void 0===n||null===(t=n.tags)||void 0===t?void 0:t.includes("ACTIVE_SUBSCRIPTION_I2T_UPGRADEABLE")}))).length>0&&(null===c||void 0===c||null===(o=c.individualToTeamUpgradeOffers)||void 0===o||null===(a=o.upgradeOffersResult)||void 0===a?void 0:a.offers.length)>0)){e.next=11;break}return u.info("Eligible for i2t upgrade as part of duplicate purchase from A.com"),e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[P,p,u]),b=function(e,n,t){var r,o=null===e||void 0===e||null===(r=e.productArrangement)||void 0===r?void 0:r.family,a=t.find((function(e){return(null===e||void 0===e?void 0:e.paFamily)===o}));return n.includes(null===a||void 0===a?void 0:a.id)},I=(0,r.useCallback)(function(){var e=(0,M.Z)(L().mark((function e(n){var t,r,o,a,i,l,s,f,d,p,v,g,m,h,E,O,T;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(n);case 2:d=e.sent,p=d.data,v=null===p||void 0===p||null===(t=p.individualToTeamUpgradeOffers)||void 0===t?void 0:t.activeSubscriptions,g=null===p||void 0===p||null===(r=p.individualToTeamUpgradeOffers)||void 0===r||null===(o=r.activeOffersResult)||void 0===o?void 0:o.map((function(e){return{id:null===e||void 0===e?void 0:e.offer.id,paFamily:null===e||void 0===e?void 0:e.offer.productArrangement.family}})),m=null===p||void 0===p||null===(a=p.individualToTeamUpgradeOffers)||void 0===a||null===(i=a.upgradeOffersResult)||void 0===i?void 0:i.offers,h=null===y||void 0===y||null===(l=y.cart)||void 0===l||null===(s=l.cartItems)||void 0===s?void 0:s.map((function(e){var n;return null===e||void 0===e||null===(n=e.conflicts)||void 0===n?void 0:n.map((function(e){return e.offerId}))})),E=F()(h),O=null===m||void 0===m?void 0:m.map((function(e,n){var t=e.offer;if(n<v.length)return{id:t.id,q:b(t,E,g)?2:1}})).filter((function(e){return void 0!==e})),f={},(0,x.Z)(f,G().app.COUNTRY.name,n),(0,x.Z)(f,G().app.LANGUAGE.name,c),(0,x.Z)(f,G().app.CURRENT_SUBSCRIPTION_IDS.name,v),(0,x.Z)(f,G().app.ITEMS.name,O),T=f,u.info("Redirecting to i2t payment page as part of duplicate purchase from A.com"),C(T);case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[P,C,c,y,u]);return J(V.jO,(0,H.Z)({fetchOffer:E,fetchUserSubscriptionChangeOfferAllowed:T,fetchIndividualToTeamUpgradeAllowed:_,upgradeIndividualToTeam:I,locale:c,order:y,openUrl:h,onFooterClicked:o,cancelUrl:m},a))},te=t(56),re=t(276),oe=r.createElement;function ae(e,n){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return ue(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ue(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,i=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return u=e.done,e},e:function(e){i=!0,a=e},f:function(){try{u||null==t.return||t.return()}finally{if(i)throw a}}}}function ue(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var ie=function(e){var n=e.children,t=(0,E.useApolloClient)(),o=(0,te.TZ)(),a=(0,v.useCommerceAppContext)().isInApp,u=(0,X.nV)(),i=(0,r.useState)(!1),c=i[0],l=i[1],s=(0,r.useState)(void 0),d=s[0],p=s[1],g=(0,re.useSelector)(N.NO),m=(0,r.useCallback)((function(){var e,n,r=t.readFragment({fragment:k,id:"Order:".concat(g),fragmentName:"IneligiblePurchaseOrderFragment"}),o=ae(null===r||void 0===r||null===(e=r.cart)||void 0===e?void 0:e.cartItems);try{for(o.s();!(n=o.n()).done;){var a,u=ae(n.value.conflicts);try{for(u.s();!(a=u.n()).done;){var i=a.value;if(i.reasonCode)return i.reasonCode}}catch(c){u.e(c)}finally{u.f()}}}catch(c){o.e(c)}finally{o.f()}}),[g,t]);function h(e){switch(e){case O.CartItemConflictReason.IneligibleSwitch:case O.CartItemConflictReason.IneligibleIncluded:case O.CartItemConflictReason.IneligibleDuplicateUpgrade:p(f.q.CHANGE_PLAN);break;default:p(void 0)}}return oe(r.Fragment,null,oe(ee,{openUrl:a()?function(e){h(m()),l(!0);var n=(0,U.AK)(e);u(n)}:void 0,onFooterClicked:a()?function(){h(void 0),l(!0)}:void 0,adobeLaunchAnalytics:o}),c?oe(y,{workflow:d}):n)}},62683:function(e,n,t){"use strict";t.d(n,{W:function(){return P},F:function(){return T}});var r=t(37244),o=t.n(r),a=t(99246),u=t(65455),i=t(96029),c=t(61792),l=t(57332),s=t(4190),f=t(14157),d=t(27261),p=t(46829),v=t(71439),g=t(36623),m=t(59180),h=t(67294),C=t(55988),y=t(12510);function E(){var e=(0,d.Z)(["\n              fragment ProductArrangementCodeRepresentativeOffer on PersonalizedOffer {\n                offer {\n                  productArrangementCode\n                }\n              }\n            "]);return E=function(){return e},e}var O=t(276),T=function(){var e=(0,O.useStore)().getState(),n=(0,C.t)().currentRoute,t=(0,u.mT)(e),r=(0,i.vl)(e),d=(0,u.Nl)(e),T=P(t,r),_=(0,s.useFeatureFlags)([a.R.UC_SUPPORTED_PRODUCT_ARRANGEMENT_CODES]),b=(0,f.k)(),I=function(){var e=(0,p.useApolloClient)(),n=(0,y.useSelector)(u.ym),t=(0,y.useSelector)(i.vl)[o().app.PA_CODE.name],r=(0,y.useSelector)(g.M8),a=(0,C.t)().currentRoute;return(0,h.useMemo)((function(){if(t)return!!n.includes(t);var o=r.map((function(n){var t,r=e.readFragment({id:"PersonalizedOffer:".concat(a===l.Z.BUNDLE?m.x.BUNDLES:m.x.COMMITMENT_VARIANTS,":").concat(n),fragment:(0,v.gql)(E())});return null===r||void 0===r||null===(t=r.offer)||void 0===t?void 0:t.productArrangementCode}));return o.filter((function(e){return n.includes(e)})).length===o.length}),[])}();if([l.Z.DTM_IFRAME,l.Z.PAYPAL,l.Z.LEARN_MORE_DIALOG,l.Z.CONFIRMATION,l.Z.POST_SET_PASSWORD,l.Z.HEALTH,l.Z.PRELOAD,l.Z.LINK_GENERATOR,l.Z.DASHBOARD_IFRAME].includes(n))return!1;var A=!d&&!T,S=(0,c.D7)(e),w=_[a.R.UC_SUPPORTED_PRODUCT_ARRANGEMENT_CODES];return A||S||!I&&!b&&w},P=function(e,n){return(null===n||void 0===n?void 0:n[o().app.EXTEND_COUNTRY_SUPPORT.name])&&(null===n||void 0===n?void 0:n[o().app.EXTEND_COUNTRY_SUPPORT.name])===e}},46576:function(e,n,t){"use strict";t.d(n,{mw:function(){return h},Vk:function(){return O}});var r=t(809),o=t.n(r),a=t(92447),u=t(27261),i=t(71439),c=t(46829),l=t(36623),s=t(61792),f=t(65455),d=t(62452),p=t(276),v=t(67294),g=t(12510);function m(){var e=(0,u.Z)(["\n  query GET_COUNTRY_CHANGE_ALLOWED {\n    user {\n      id\n      countryChangeAllowed\n    }\n  }\n"]);return m=function(){return e},e}var h="GET_COUNTRY_CHANGE_ALLOWED",C=(0,i.gql)(m());function y(e,n){return E.apply(this,arguments)}function E(){return(E=(0,a.Z)(o().mark((function e(n,t){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,e.prev=1,!t){e.next=7;break}return e.next=5,n.query({query:C,context:{headers:{Authorization:"Bearer ".concat(t)}},fetchPolicy:"no-cache"});case 5:a=e.sent,r=a.data.user.countryChangeAllowed;case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var O=function(){var e=(0,p.useDispatch)(),n=(0,d.KW)(),t=(0,g.useStore)().getState(),r=(0,s.PQ)(t),u=(0,f.mT)(t),i=(0,s.et)(t).countryCode,m=(0,s.hP)(t),h=(0,l.qr)(t),C=(0,c.useApolloClient)();(0,v.useEffect)((function(){function t(){return(t=(0,a.Z)(o().mark((function t(){var r,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=!0,a=i&&i!==u,t.t0=!h,!t.t0){t.next=7;break}return t.next=6,y(C,m);case 6:t.t0=t.sent;case 7:r=t.t0,a&&!r&&n(i),e((0,s.oY)(r));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r&&function(){t.apply(this,arguments)}()}),[])}},47130:function(e,n,t){"use strict";t.d(n,{Z:function(){return p},G:function(){return v}});var r=t(64679),o=t.n(r),a=t(8777),u=t.n(a),i=t(87835),c=t(19291),l=t(49675),s=t(34155),f={keepAlive:!0,timeout:l.L.SOCKET_TIMEOUT};s.env.APP_ENV===i.T.LOCAL&&(f.rejectUnauthorized=!1);var d=(0,c.Lf)()?void 0:new(u().Agent)(f);function p(){return d}function v(){return new(o().Agent)(f)}},75295:function(e,n,t){"use strict";t.d(n,{Y:function(){return p}});var r=t(809),o=t.n(r),a=t(92447),u=t(69973);function i(){return{expiry:Number.MAX_SAFE_INTEGER,tokenPromise:null}}var c=i();function l(e,n){return u.Z.getImsServiceToken(e,n)}function s(){return!c.tokenPromise||Date.now()>c.expiry}function f(e){return Date.now()+1e3*e.expires_in/1.2}function d(){c=i()}function p(){return v.apply(this,arguments)}function v(){return(v=(0,a.Z)(o().mark((function e(){var n,t,r,a,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>0&&void 0!==u[0]?u[0]:{},t=u.length>1?u[1]:void 0,e.prev=2,!s()){e.next=12;break}return c.expiry=Number.MAX_SAFE_INTEGER,c.tokenPromise=l(n,t),e.next=8,c.tokenPromise;case 8:r=e.sent,c.expiry=f(r),e.next=15;break;case 12:return e.next=14,c.tokenPromise;case 14:r=e.sent;case 15:a=r.access_token,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),d();case 21:return e.abrupt("return",a);case 22:case"end":return e.stop()}}),e,null,[[2,18]])})))).apply(this,arguments)}},69973:function(e,n,t){"use strict";t.d(n,{Z:function(){return P}});var r=t(809),o=t.n(r),a=t(92447),u=t(26265),i=t(49675),c=t(41681),l=t(97803),s=t(24817),f=t(34155);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function v(e){return(0,s.Z0)(e)?f.env.IMS_CLT_APP_SECRET:f.env.IMS_CLT_SECRET}function g(e){return p(p({},(0,c.ft)(e)),{},{secret:v(e)})}function m(){return{domain:(0,c.Fy)(),clientId:l.$.UNIFIED_CHECKOUT_SERVER,secret:f.env.IMS_SVR_SECRET,authCode:f.env.IMS_SVR_AUTH_CODE}}var h=t(47130),C=t(10975),y=t(80129);function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var T=(0,h.Z)();var P=function(){var e={request:function(e,n){return[e,O({agent:T,compress:!0},n)]},response:function(e){if(+(null===e||void 0===e?void 0:e.status)>=300)throw e;return e}},n=(0,i.Z)(e),t=function(){var e=(0,a.Z)(o().mark((function e(n,t){var a,u,i,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:{},u=c.length>3?c[3]:void 0,(i=O({},g(t))).authCode=n,e.abrupt("return",r(i,a,u));case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),r=function(){var e=(0,a.Z)(o().mark((function e(t){var r,a,u,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},a=i.length>2?i[2]:void 0,u={grant_type:"authorization_code",code:t.authCode,client_id:t.clientId,client_secret:t.secret},e.next=5,n.post("".concat(t.domain,"/ims/token/v2?").concat((0,y.stringify)(u)),{headers:O({},r),logger:a});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return O(O({},n),{},{getImsHealthCheck:function(e){var t=m();return n.get("".concat(t.domain,"/ims/healthcheck"),{headers:(0,u.Z)({},C.A.name.X_IMS_CLIENTID,t.clientId),timeout:i.L.IMS_HEALTH_CHECK_TIMEOUT,logger:e})},getImsProfileAndToken:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,a=g(t);return n.post("".concat(a.domain,"/ims/token/v3"),{body:(0,y.stringify)({grant_type:"aux_sid_exchange",client_id:a.clientId,client_secret:a.secret,aux_sid:e,scope:a.scopes,project_user_profile:!0}),headers:O({"Content-Type":"application/x-www-form-urlencoded"},r),timeout:i.L.SHORT_HTTP_TIMEOUT,logger:o})},getImsAccessToken:t,getImsProfileAndTokenFromImplicitJumpToken:function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0,u=g(r),c={client_id:u.clientId};return n.get("".concat(u.domain,"/ims/jump/implicit/").concat(e,"?").concat((0,y.stringify)(c)),{headers:O({Authorization:"Bearer ".concat(t)},o),timeout:i.L.SHORT_HTTP_TIMEOUT,logger:a},{includeHeaders:!0})},getImsServiceToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=m();return r(t,e,n)}})}()},64679:function(){},8777:function(){}}]);