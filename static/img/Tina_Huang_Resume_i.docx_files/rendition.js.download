/*! For license information please see rendition.js.LICENSE.txt */
window.adobe_dc_sdk=window.adobe_dc_sdk||{},window.adobe_dc_sdk.components=window.adobe_dc_sdk.components||{},window.adobe_dc_sdk.components.rendition=function(i){function webpackJsonpCallback(r){for(var o,s,u=r[0],d=r[1],l=0,f=[];l<u.length;l++)s=u[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(i[o]=d[o]);for(c&&c(r);f.length;)f.shift()()}var r={},a={1:0};function __webpack_require__(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return i[a].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}__webpack_require__.e=function requireEnsure(i){var r=[],o=a[i];if(0!==o)if(o)r.push(o[2]);else{var s=new Promise((function(r,s){o=a[i]=[r,s]}));r.push(o[2]=s);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,__webpack_require__.nc&&c.setAttribute("nonce",__webpack_require__.nc),c.src=function jsonpScriptSrc(i){return __webpack_require__.p+""+({0:"fontHelper"}[i]||i)+"-chunk.js"}(i);var d=new Error;u=function(r){c.onerror=c.onload=null,clearTimeout(l);var o=a[i];if(0!==o){if(o){var s=r&&("load"===r.type?"missing":r.type),u=r&&r.target&&r.target.src;d.message="Loading chunk "+i+" failed.\n("+s+": "+u+")",d.name="ChunkLoadError",d.type=s,d.request=u,o[1](d)}a[i]=void 0}};var l=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(r)},__webpack_require__.m=i,__webpack_require__.c=r,__webpack_require__.d=function(i,r,a){__webpack_require__.o(i,r)||Object.defineProperty(i,r,{enumerable:!0,get:a})},__webpack_require__.r=function(i){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},__webpack_require__.t=function(i,r){if(1&r&&(i=__webpack_require__(i)),8&r)return i;if(4&r&&"object"==typeof i&&i&&i.__esModule)return i;var a=Object.create(null);if(__webpack_require__.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&r&&"string"!=typeof i)for(var o in i)__webpack_require__.d(a,o,function(r){return i[r]}.bind(null,o));return a},__webpack_require__.n=function(i){var r=i&&i.__esModule?function getDefault(){return i.default}:function getModuleExports(){return i};return __webpack_require__.d(r,"a",r),r},__webpack_require__.o=function(i,r){return Object.prototype.hasOwnProperty.call(i,r)},__webpack_require__.p="",__webpack_require__.oe=function(i){throw console.error(i),i};var o=window["webpackJsonp-rendition"]=window["webpackJsonp-rendition"]||[],s=o.push.bind(o);o.push=webpackJsonpCallback,o=o.slice();for(var u=0;u<o.length;u++)webpackJsonpCallback(o[u]);var c=s;return __webpack_require__(__webpack_require__.s="4YZu")}({"+lnk":function(i,r,a){i.exports=a("hrl5")("o4sN")},"2bPg":function(i,r,a){"use strict";function _classCallCheck(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}a.d(r,"a",(function(){return _classCallCheck}))},"2oH+":function(i,r,a){(function(i,o){var s=a("C70D"),u=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d["[object Arguments]"]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d["[object Map]"]=d["[object Number]"]=d["[object Object]"]=d["[object RegExp]"]=d["[object Set]"]=d["[object String]"]=d["[object WeakMap]"]=!1;var l="object"==(void 0===i?"undefined":s(i))&&i&&i.Object===Object&&i,f="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,p=l||f||Function("return this")(),h="object"==s(r)&&r&&!r.nodeType&&r,m=h&&"object"==s(o)&&o&&!o.nodeType&&o,_=m&&m.exports===h,v=_&&l.process,g=function(){try{var i=m&&m.require&&m.require("util").types;return i||v&&v.binding&&v.binding("util")}catch(i){}}(),b=g&&g.isTypedArray;function apply(i,r,a){switch(a.length){case 0:return i.call(r);case 1:return i.call(r,a[0]);case 2:return i.call(r,a[0],a[1]);case 3:return i.call(r,a[0],a[1],a[2])}return i.apply(r,a)}var A,R=Array.prototype,j=Function.prototype,I=Object.prototype,D=p["__core-js_shared__"],O=j.toString,x=I.hasOwnProperty,C=(A=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",E=I.toString,F=O.call(Object),B=RegExp("^"+O.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=_?p.Buffer:void 0,L=p.Symbol,G=p.Uint8Array,U=N?N.allocUnsafe:void 0,W=function overArg(i,r){return function(a){return i(r(a))}}(Object.getPrototypeOf,Object),z=Object.create,q=I.propertyIsEnumerable,J=R.splice,H=L?L.toStringTag:void 0,V=function(){try{var i=getNative(Object,"defineProperty");return i({},"",{}),i}catch(i){}}(),K=N?N.isBuffer:void 0,Y=Math.max,X=Date.now,$=getNative(p,"Map"),Q=getNative(Object,"create"),Z=function(){function object(){}return function(i){if(!isObject(i))return{};if(z)return z(i);object.prototype=i;var r=new object;return object.prototype=void 0,r}}();function Hash(i){var r=-1,a=null==i?0:i.length;for(this.clear();++r<a;){var o=i[r];this.set(o[0],o[1])}}function ListCache(i){var r=-1,a=null==i?0:i.length;for(this.clear();++r<a;){var o=i[r];this.set(o[0],o[1])}}function MapCache(i){var r=-1,a=null==i?0:i.length;for(this.clear();++r<a;){var o=i[r];this.set(o[0],o[1])}}function Stack(i){var r=this.__data__=new ListCache(i);this.size=r.size}function arrayLikeKeys(i,r){var a=ie(i),o=!a&&ne(i),s=!a&&!o&&re(i),u=!a&&!o&&!s&&oe(i),c=a||o||s||u,d=c?function baseTimes(i,r){for(var a=-1,o=Array(i);++a<i;)o[a]=r(a);return o}(i.length,String):[],l=d.length;for(var f in i)!r&&!x.call(i,f)||c&&("length"==f||s&&("offset"==f||"parent"==f)||u&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||isIndex(f,l))||d.push(f);return d}function assignMergeValue(i,r,a){(void 0!==a&&!eq(i[r],a)||void 0===a&&!(r in i))&&baseAssignValue(i,r,a)}function assignValue(i,r,a){var o=i[r];x.call(i,r)&&eq(o,a)&&(void 0!==a||r in i)||baseAssignValue(i,r,a)}function assocIndexOf(i,r){for(var a=i.length;a--;)if(eq(i[a][0],r))return a;return-1}function baseAssignValue(i,r,a){"__proto__"==r&&V?V(i,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):i[r]=a}Hash.prototype.clear=function hashClear(){this.__data__=Q?Q(null):{},this.size=0},Hash.prototype.delete=function hashDelete(i){var r=this.has(i)&&delete this.__data__[i];return this.size-=r?1:0,r},Hash.prototype.get=function hashGet(i){var r=this.__data__;if(Q){var a=r[i];return"__lodash_hash_undefined__"===a?void 0:a}return x.call(r,i)?r[i]:void 0},Hash.prototype.has=function hashHas(i){var r=this.__data__;return Q?void 0!==r[i]:x.call(r,i)},Hash.prototype.set=function hashSet(i,r){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=Q&&void 0===r?"__lodash_hash_undefined__":r,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(i){var r=this.__data__,a=assocIndexOf(r,i);return!(a<0)&&(a==r.length-1?r.pop():J.call(r,a,1),--this.size,!0)},ListCache.prototype.get=function listCacheGet(i){var r=this.__data__,a=assocIndexOf(r,i);return a<0?void 0:r[a][1]},ListCache.prototype.has=function listCacheHas(i){return assocIndexOf(this.__data__,i)>-1},ListCache.prototype.set=function listCacheSet(i,r){var a=this.__data__,o=assocIndexOf(a,i);return o<0?(++this.size,a.push([i,r])):a[o][1]=r,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new($||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(i){var r=getMapData(this,i).delete(i);return this.size-=r?1:0,r},MapCache.prototype.get=function mapCacheGet(i){return getMapData(this,i).get(i)},MapCache.prototype.has=function mapCacheHas(i){return getMapData(this,i).has(i)},MapCache.prototype.set=function mapCacheSet(i,r){var a=getMapData(this,i),o=a.size;return a.set(i,r),this.size+=a.size==o?0:1,this},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(i){var r=this.__data__,a=r.delete(i);return this.size=r.size,a},Stack.prototype.get=function stackGet(i){return this.__data__.get(i)},Stack.prototype.has=function stackHas(i){return this.__data__.has(i)},Stack.prototype.set=function stackSet(i,r){var a=this.__data__;if(a instanceof ListCache){var o=a.__data__;if(!$||o.length<199)return o.push([i,r]),this.size=++a.size,this;a=this.__data__=new MapCache(o)}return a.set(i,r),this.size=a.size,this};var ee=function createBaseFor(i){return function(r,a,o){for(var s=-1,u=Object(r),c=o(r),d=c.length;d--;){var l=c[i?d:++s];if(!1===a(u[l],l,u))break}return r}}();function baseGetTag(i){return null==i?void 0===i?"[object Undefined]":"[object Null]":H&&H in Object(i)?function getRawTag(i){var r=x.call(i,H),a=i[H];try{i[H]=void 0;var o=!0}catch(i){}var s=E.call(i);o&&(r?i[H]=a:delete i[H]);return s}(i):function objectToString(i){return E.call(i)}(i)}function baseIsArguments(i){return isObjectLike(i)&&"[object Arguments]"==baseGetTag(i)}function baseIsNative(i){return!(!isObject(i)||function isMasked(i){return!!C&&C in i}(i))&&(isFunction(i)?B:u).test(function toSource(i){if(null!=i){try{return O.call(i)}catch(i){}try{return i+""}catch(i){}}return""}(i))}function baseKeysIn(i){if(!isObject(i))return function nativeKeysIn(i){var r=[];if(null!=i)for(var a in Object(i))r.push(a);return r}(i);var r=isPrototype(i),a=[];for(var o in i)("constructor"!=o||!r&&x.call(i,o))&&a.push(o);return a}function baseMerge(i,r,a,o,s){i!==r&&ee(r,(function(u,c){if(s||(s=new Stack),isObject(u))!function baseMergeDeep(i,r,a,o,s,u,c){var d=safeGet(i,a),l=safeGet(r,a),f=c.get(l);if(f)return void assignMergeValue(i,a,f);var p=u?u(d,l,a+"",i,r,c):void 0,h=void 0===p;if(h){var m=ie(l),_=!m&&re(l),v=!m&&!_&&oe(l);p=l,m||_||v?ie(d)?p=d:!function isArrayLikeObject(i){return isObjectLike(i)&&isArrayLike(i)}(d)?_?(h=!1,p=function cloneBuffer(i,r){if(r)return i.slice();var a=i.length,o=U?U(a):new i.constructor(a);return i.copy(o),o}(l,!0)):v?(h=!1,p=function cloneTypedArray(i,r){var a=r?function cloneArrayBuffer(i){var r=new i.constructor(i.byteLength);return new G(r).set(new G(i)),r}(i.buffer):i.buffer;return new i.constructor(a,i.byteOffset,i.length)}(l,!0)):p=[]:p=function copyArray(i,r){var a=-1,o=i.length;r||(r=Array(o));for(;++a<o;)r[a]=i[a];return r}(d):function isPlainObject(i){if(!isObjectLike(i)||"[object Object]"!=baseGetTag(i))return!1;var r=W(i);if(null===r)return!0;var a=x.call(r,"constructor")&&r.constructor;return"function"==typeof a&&a instanceof a&&O.call(a)==F}(l)||ne(l)?(p=d,ne(d)?p=function toPlainObject(i){return function copyObject(i,r,a,o){var s=!a;a||(a={});var u=-1,c=r.length;for(;++u<c;){var d=r[u],l=o?o(a[d],i[d],d,a,i):void 0;void 0===l&&(l=i[d]),s?baseAssignValue(a,d,l):assignValue(a,d,l)}return a}(i,keysIn(i))}(d):isObject(d)&&!isFunction(d)||(p=function initCloneObject(i){return"function"!=typeof i.constructor||isPrototype(i)?{}:Z(W(i))}(l))):h=!1}h&&(c.set(l,p),s(p,l,o,u,c),c.delete(l));assignMergeValue(i,a,p)}(i,r,c,a,baseMerge,o,s);else{var d=o?o(safeGet(i,c),u,c+"",i,r,s):void 0;void 0===d&&(d=u),assignMergeValue(i,c,d)}}),keysIn)}function baseRest(i,r){return te(function overRest(i,r,a){return r=Y(void 0===r?i.length-1:r,0),function(){for(var o=arguments,s=-1,u=Y(o.length-r,0),c=Array(u);++s<u;)c[s]=o[r+s];s=-1;for(var d=Array(r+1);++s<r;)d[s]=o[s];return d[r]=a(c),apply(i,this,d)}}(i,r,identity),i+"")}function getMapData(i,r){var a=i.__data__;return function isKeyable(i){var r=s(i);return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==i:null===i}(r)?a["string"==typeof r?"string":"hash"]:a.map}function getNative(i,r){var a=function getValue(i,r){return null==i?void 0:i[r]}(i,r);return baseIsNative(a)?a:void 0}function isIndex(i,r){var a=s(i);return!!(r=null==r?9007199254740991:r)&&("number"==a||"symbol"!=a&&c.test(i))&&i>-1&&i%1==0&&i<r}function isPrototype(i){var r=i&&i.constructor;return i===("function"==typeof r&&r.prototype||I)}function safeGet(i,r){if(("constructor"!==r||"function"!=typeof i[r])&&"__proto__"!=r)return i[r]}var te=function shortOut(i){var r=0,a=0;return function(){var o=X(),s=16-(o-a);if(a=o,s>0){if(++r>=800)return arguments[0]}else r=0;return i.apply(void 0,arguments)}}(V?function(i,r){return V(i,"toString",{configurable:!0,enumerable:!1,value:(a=r,function(){return a}),writable:!0});var a}:identity);function eq(i,r){return i===r||i!=i&&r!=r}var ne=baseIsArguments(function(){return arguments}())?baseIsArguments:function(i){return isObjectLike(i)&&x.call(i,"callee")&&!q.call(i,"callee")},ie=Array.isArray;function isArrayLike(i){return null!=i&&isLength(i.length)&&!isFunction(i)}var re=K||function stubFalse(){return!1};function isFunction(i){if(!isObject(i))return!1;var r=baseGetTag(i);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}function isLength(i){return"number"==typeof i&&i>-1&&i%1==0&&i<=9007199254740991}function isObject(i){var r=s(i);return null!=i&&("object"==r||"function"==r)}function isObjectLike(i){return null!=i&&"object"==s(i)}var oe=b?function baseUnary(i){return function(r){return i(r)}}(b):function baseIsTypedArray(i){return isObjectLike(i)&&isLength(i.length)&&!!d[baseGetTag(i)]};function keysIn(i){return isArrayLike(i)?arrayLikeKeys(i,!0):baseKeysIn(i)}var se=function createAssigner(i){return baseRest((function(r,a){var o=-1,u=a.length,c=u>1?a[u-1]:void 0,d=u>2?a[2]:void 0;for(c=i.length>3&&"function"==typeof c?(u--,c):void 0,d&&function isIterateeCall(i,r,a){if(!isObject(a))return!1;var o=s(r);if("number"==o?isArrayLike(a)&&isIndex(r,a.length):"string"==o&&r in a)return eq(a[r],i);return!1}(a[0],a[1],d)&&(c=u<3?void 0:c,u=1),r=Object(r);++o<u;){var l=a[o];l&&i(r,l,o,c)}return r}))}((function(i,r,a){baseMerge(i,r,a)}));function identity(i){return i}o.exports=se}).call(this,a("yLpj"),a("YuTi")(i))},"42jw":function(i,r,a){"use strict";function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}a.d(r,"a",(function(){return _nonIterableRest}))},4588:function(i,r,a){"use strict";function _arrayLikeToArray(i,r){(null==r||r>i.length)&&(r=i.length);for(var a=0,o=new Array(r);a<r;a++)o[a]=i[a];return o}a.d(r,"a",(function(){return _arrayLikeToArray}))},"4YZu":function(i,r,a){"use strict";a.r(r),a.d(r,"RenditionAPI",(function(){return H})),a.d(r,"providers",(function(){return V}));var o=a("4588");var s=a("qTF4"),u=a("U2vP");function _toConsumableArray(i){return function _arrayWithoutHoles(i){if(Array.isArray(i))return Object(o.a)(i)}(i)||Object(s.a)(i)||Object(u.a)(i)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=a("DjBF");function _objectWithoutProperties(i,r){if(null==i)return{};var a,o,s=function _objectWithoutPropertiesLoose(i,r){if(null==i)return{};var a,o,s={},u=Object.keys(i);for(o=0;o<u.length;o++)a=u[o],r.indexOf(a)>=0||(s[a]=i[a]);return s}(i,r);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)a=u[o],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}function _defineProperty(i,r,a){return r in i?Object.defineProperty(i,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[r]=a,i}function ownKeys(i,r){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable}))),a.push.apply(a,o)}return a}function _objectSpread2(i){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){_defineProperty(i,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(a,r))}))}return i}var d=a("BRlI"),l=a("2bPg");function _setPrototypeOf(i,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(i,r){return i.__proto__=r,i})(i,r)}function _getPrototypeOf(i){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(i){return i.__proto__||Object.getPrototypeOf(i)})(i)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(i){return!1}}function _typeof(i){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(i){return typeof i}:function _typeof(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(i)}function _possibleConstructorReturn(i,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}(i):r}function construct_construct(i,r,a){return(construct_construct=_isNativeReflectConstruct()?Reflect.construct:function _construct(i,r,a){var o=[null];o.push.apply(o,r);var s=new(Function.bind.apply(i,o));return a&&_setPrototypeOf(s,a.prototype),s}).apply(null,arguments)}function wrapNativeSuper_wrapNativeSuper(i){var r="function"==typeof Map?new Map:void 0;return(wrapNativeSuper_wrapNativeSuper=function _wrapNativeSuper(i){if(null===i||!function _isNativeFunction(i){return-1!==Function.toString.call(i).indexOf("[native code]")}(i))return i;if("function"!=typeof i)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(i))return r.get(i);r.set(i,Wrapper)}function Wrapper(){return construct_construct(i,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(i.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,i)})(i)}var f=a("jQsN"),p=a.n(f);function asyncGeneratorStep(i,r,a,o,s,u,c){try{var d=i[u](c),l=d.value}catch(i){return void a(i)}d.done?r(l):Promise.resolve(l).then(o,s)}var h=a("EcEN"),m=a.n(h),_=a("2oH+"),v=a.n(_),g=a("aYiS"),b=a.n(g),A=a("JNGV"),R=a("+lnk"),j=a("IIWu"),I=a("EFGr"),D=function makeCancellablePromise(i){var r=!1,a=i;return a||(a=Promise.reject()),{promise:new Promise((function(i,o){a.then((function(a){return!r&&i(a)})).catch((function(i){return!r&&o(i)}))})),cancel:function cancel(){r=!0}}},O=[],x=function renditionMakeCancellablePromise(i){var r=D(i);return O.push(r),r.promise},C=function isIE(){return!!document.documentMode},E=function getDigest(i){return C()?window.msCrypto.subtle.digest("SHA-256",i):window.crypto&&window.crypto.subtle?window.crypto.subtle.digest("SHA-256",i):Promise.reject("Crypto is not supported")},F=function getDigestHex(i){return _toConsumableArray(new Uint8Array(i)).map((function(i){return i.toString(16).padStart(2,"0")})).join("")},B=function stringToUint8ArrayBuffer(i){var r,a,o,s,u,c=0;if(i){for(c=i.length,r=-1,a="undefined"==typeof Uint8Array?new Array(1.5*c):new Uint8Array(3*c),o=0,s=0,u=0;u!==c;){if(o=i.charCodeAt(u),u+=1,o>=55296&&o<=56319){if(u===c){a[r+=1]=239,a[r+=1]=191,a[r+=1]=189;break}(s=i.charCodeAt(u))>=56320&&s<=57343?(u+=1,(o=1024*(o-55296)+(s-56320+65536))>65535&&(a[r+=1]=240|o>>>18,a[r+=1]=128|o>>>12&63,a[r+=1]=128|o>>>6&63,a[r+=1]=128|63&o)):(a[r+=1]=239,a[r+=1]=191,a[r+=1]=189)}o<=127?a[r+=1]=0|o:o<=2047?(a[r+=1]=192|o>>>6,a[r+=1]=128|63&o):(a[r+=1]=224|o>>>12,a[r+=1]=128|o>>>6&63,a[r+=1]=128|63&o)}return"undefined"!=typeof Uint8Array?a.subarray(0,r+1):(a.length=r+1,a)}return""},N=function getSHA256Digest(i){return new Promise((function(r,a){if(C()){var o=B(i),s="",u=E(o);u.process(o),u.finish(),u.oncomplete=function onComplete(){if(null!==(s=u.result)){var i=F(s);r(i)}else a("documentIdHash error")}}else{var c=function isEdge(){return/Edge/.test(navigator.userAgent)}()?B(i):(new TextEncoder).encode(i);E(c).then((function(i){var a=F(i);r(a)})).catch((function(i){a(i)}))}}))},L=null,G=["/onedrive","/sharepoint"],U=A.enums.PageRequestType,W=function renditionNow(){return window.performance?window.performance.now()+window.performance.timing.navigationStart:Date.now()},z=function cloneDeep(i){return JSON.parse(JSON.stringify(i))},q=function(){var i=function _asyncToGenerator(i){return function(){var r=this,a=arguments;return new Promise((function(o,s){var u=i.apply(r,a);function _next(i){asyncGeneratorStep(u,o,s,_next,_throw,"next",i)}function _throw(i){asyncGeneratorStep(u,o,s,_next,_throw,"throw",i)}_next(void 0)}))}}(p.a.mark((function _callee(i){return p.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r){return setTimeout(r,i)})));case 1:case"end":return r.stop()}}),_callee)})));return function delay(r){return i.apply(this,arguments)}}(),J=function(i){!function _inherits(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),r&&_setPrototypeOf(i,r)}(NoRenditionError,i);var r=function _createSuper(i){return function(){var r,a=_getPrototypeOf(i);if(_isNativeReflectConstruct()){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return _possibleConstructorReturn(this,r)}}(NoRenditionError);function NoRenditionError(i){var a;return Object(l.a)(this,NoRenditionError),(a=r.call(this,i)).code=415,a}return NoRenditionError}(wrapNativeSuper_wrapNativeSuper(Error)),H=function(){function RenditionAPI(i,r){var a=this;return Object(l.a)(this,RenditionAPI),this._getFileInfoObj=function(i,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(R.auth.isSignedIn&&!a._isS3Url){var s=R.auth.getAccessTokenInfo();s.access_token&&o.push({key:"Authorization",value:"Bearer ".concat(s.access_token)})}return r&&!("id"in r)&&(r.id=r.asset_id),{content:{location:{url:i,headers:o}},metaData:r}},this._fetchPDFBufferRanges=function(i,r,o){return a._externalInitPromise()&&a._externalInit(),a.externalPromise.then((function(){return a._externalGetDownloadUri(i,r).then((function(i){return a._external.fetchPDFBufferRanges(i,o)}))}))},this._fetchPDFSize=function(i,r){return a._externalInitPromise()&&a._externalInit(),a.externalPromise.then((function(){return a._externalGetDownloadUri(i,r).then((function(i){return a._external.fetchPDFSize(i)}))}))},L=this,this.queryParams=RenditionAPI._getQueryParams(),this._logger=R.logging.getLogger("dc-rendition-provider"),this.options=Object.assign({},{useDCAPI:"false"!==this.queryParams.useDCAPI,enableExternal:!0,useAJS:!0,AJSDelay:0,useReview:!0,usePDFNow:!1,fetchWithCredentials:!1,enableAJSLogging:"true"===this.queryParams.enableAJSLogging,autoStart:!0,useAJSFullBuild:"true"===this.queryParams.useAJSFullBuild,useASM:"true"===this.queryParams.useASM,skipExpWasmBuild:"true"===this.queryParams.skipExpWasmBuild},r),this._assetRenditions={},this._assetRenditionsIndex=[],this._assetPageRenditions={},this._assetPageRenditionsIndex=[],this._perfTimings={},this.options.autoStart&&this.init(),L}return Object(d.a)(RenditionAPI,[{key:"init",value:function init(){var i=this;this.options.useDCAPI?(this.dcapiPromise=new Promise((function(r,a){i.dcapiResolve=r,i.dcapiReject=a})),this._dcapiInit()):this.dcapiPromise=Promise.resolve(),this.options.useAJS&&(this._completePDFBufferAvailablePromise=new Promise((function(r){i._completePDFBufferAvailablePromiseResolve=r})),this.options.AJSDelay>0?setTimeout(this._getAjs.bind(this),this.options.AJSDelay):this._getAjs())}},{key:"_getDCAssetFileInfo",value:function _getDCAssetFileInfo(i){var r=this;return this.dcapiPromise.then((function(){var a=r._dcapiGetMetadata(i,{}),o=r._dcapiGetDocumentRenditionUri(i,{});return Promise.all([o,a])})).then((function(i){var a="".concat(i[0],"&format=ftpdf&fallback=original"),o=i[1];return r._getFileInfoObj(a,o,[])}))}},{key:"_getPDFNowAssetFileInfo",value:function _getPDFNowAssetFileInfo(i,r){var a=this;return this.dcapiPromise.then((function(){return a._dcapiGetMetadata(i,r)})).then((function(i){var r=i;return r&&!("id"in r)&&(r.id=r.asset_id),{metaData:r}}))}},{key:"_getReviewAssetFileInfo",value:function _getReviewAssetFileInfo(i){var r=this,a=this._reviewGetMetadata(i),o=this._reviewGetDownloadUri(i);return Promise.all([o,a]).then((function(i){var a=i[0],o=i[1];return r._getFileInfoObj(a,o,[])}))}},{key:"getAssetFileInfo",value:function getAssetFileInfo(i,r){var a=this;return RenditionAPI._isReviewAsset(r)||RenditionAPI._isParcelAsset(r)?this._getReviewAssetFileInfo(i):RenditionAPI._isPDFNowAsset(r)?this._getPDFNowAssetFileInfo(i,r):RenditionAPI._isConnectorAsset(r)?this._connectorGetMetadata(i,r).then((function(o){return o&&!("id"in o)&&(o.id=o.asset_id),o.download_url?Promise.resolve({content:{location:{url:o.download_url}},metaData:o}):a._connectorGetContentBuffer(i,r).then((function(i){var r=new Blob([i]);return Promise.resolve({content:{location:{url:URL.createObjectURL(r)}},metaData:o})}))})):this._getDCAssetFileInfo(i)}},{key:"getDcapiRendition",value:function getDcapiRendition(i,r){return this._dcapiGetRendition(i,r)}},{key:"_loadOptimizedWasmFloodGate",value:function _loadOptimizedWasmFloodGate(i){var r=this;return i||function isMobileDevice(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}()?Promise.resolve(!1):R.providers.floodgate().then((function(i){return i.hasFlagAsync("dc-web-optimized-wasm")})).catch((function(i){return r._logger.emit("loadOptimizedWasmFloodGateFailed",i),Promise.resolve(!1)}))}},{key:"_ajsSetup",value:function _ajsSetup(){var i=this;this._perfTimings.ajs={};var r={ajsPath:RenditionAPI._ajsGetPath(),workerCreator:L.getAJSWorker,enableLogging:this.options.enableAJSLogging,useASM:this.options.useASM,useFullBuild:this.options.useAJSFullBuild};this._loadOptimizedWasmFloodGateStartTime=performance.now(),this._ajsPromise=this._loadOptimizedWasmFloodGate(this.options.skipExpWasmBuild).then((function(a){i._useExperimentalBuild=a,i._logLoadOptimizedWasmFloodGateTotalTime(a),i.ajs=new A.AcrobatJS(Object.assign({},r,{useExperimentalBuild:a})),i._ajsInit(),i._perfTimings.ajs.useExperimentalBuild=a,i._perfTimings.ajs.acrobatJSVersion=I.a}))}},{key:"_getAjs",value:function _getAjs(){return this._ajsPromise||this._ajsSetup(),this._ajsPromise}},{key:"_getDocumentId",value:function _getDocumentId(){return this._documentId||""}},{key:"_ajsEmit",value:function _ajsEmit(i,r){var a=_objectSpread2(_objectSpread2({},r),{},{documentId:this._getDocumentId(),acrobatJSVersion:I.a,useExperimentalBuild:this._useExperimentalBuild});this._logger.emit(i,a)}},{key:"_onAjsEvent",value:function _onAjsEvent(i,r,a){var o=this,s="".concat(a,"PerfTimings");switch(i){case"completePDFBufferAvailable":this._completePDFBufferAvailablePromiseResolve();break;case s:this._perfTimings[a]=Object.assign({},this._perfTimings[a],r);break;case"FontUsed":R.providers["font-provider"]().then((function(i){!r.isInEditMode&&r.fontsList&&r.fontsList.forEach((function(r){i.isUsageUnReported(r)&&o._ajsEmit("FontUsageNotReported",{fontName:r})}))}));break;default:this._ajsEmit(i,r)}}},{key:"_ajsInit",value:function _ajsInit(){this.ajs.subscribe(this._onAjsEvent.bind(this)),this.ajs.init()}},{key:"_dcapiInit",value:function _dcapiInit(){var i=this;this._perfTimings.dc={dcapiInit:W()},R.providers&&R.providers.dcapi&&R.providers.dcapi().then((function(r){i._dcapi=r.getDcapi(),i._dcapi.promise().then((function(){i._perfTimings.dc.dcapiLoaded=W(),i.dcapiResolve()})).catch((function(r){i._logger.emit(r,{code:r.code,level:"error"}),i.dcapiReject()}))}))}},{key:"_pdfnowInitPromise",value:function _pdfnowInitPromise(){var i=this;return!this.pdfnowApiPromise&&(this.options.usePDFNow?(this.pdfnowApiPromise=new Promise((function(r,a){i.pdfnowApiResolve=r,i.pdfnowApiReject=a})),!0):(this.pdfnowApiPromise=Promise.resolve(),!1))}},{key:"_pdfnowInit",value:function _pdfnowInit(){var i=this;void 0!==R.providers&&R.providers["dcapi-facade"]().then((function(r){return r.getDcapi().then((function(r){i._pdfnowDcapi=r,i.pdfnowApiResolve()}))})).catch((function(r){i._logger.emit(r,{code:r.code,level:"error"}),i.pdfnowApiReject()}))}},{key:"_resetReviewProvider",value:function _resetReviewProvider(){this.reviewApiPromise=void 0,this._initReviewProviderIfRequired()}},{key:"_initReviewProviderIfRequired",value:function _initReviewProviderIfRequired(){this._reviewInitPromise()&&this._reviewInit()}},{key:"_reviewInitPromise",value:function _reviewInitPromise(){var i=this;return!this.reviewApiPromise&&(this.options.useReview?(this.reviewApiPromise=new Promise((function(r,a){i.reviewApiResolve=r,i.reviewApiReject=a})),!0):(this.reviewApiPromise=Promise.resolve(),!1))}},{key:"_reviewInit",value:function _reviewInit(){var i=this;void 0!==R.providers&&R.providers["review-handler"]().then((function(r){i._reviewApi=r,i.reviewApiResolve()})).catch((function(r){i._logger.emit(r,{code:r.code,level:"error"}),i.reviewApiReject()}))}},{key:"_externalInitPromise",value:function _externalInitPromise(){var i=this;return!this.externalPromise&&(this.options.enableExternal?(this.externalPromise=new Promise((function(r,a){i.externalResolve=r,i.externalReject=a})),!0):(this.externalPromise=Promise.resolve(),!1))}},{key:"_externalInit",value:function _externalInit(){var i=this;void 0!==R.providers&&R.providers.integrationProvider().then((function(r){i._external=r,i.externalResolve()})).catch((function(r){i._logger.emit(r,{code:r.code,level:"error"}),i.externalReject()}))}},{key:"_cacheRendition",value:function _cacheRendition(i,r){this._assetRenditions[i]||(500===this._assetRenditionsIndex.length&&delete this._assetRenditions[this._assetRenditionsIndex.shift()],this._assetRenditionsIndex.push(i)),this._assetRenditions[i]=v()(this._assetRenditions[i],r)}},{key:"_cachePageRendition",value:function _cachePageRendition(i,r,a){var o="".concat(i,"-").concat(r);this._assetPageRenditions[o]||(500===this._assetPageRenditionsIndex.length&&delete this._assetPageRenditions[this._assetPageRenditionsIndex.shift()],this._assetPageRenditionsIndex.push(o)),this._assetPageRenditions[o]=v()(this._assetPageRenditions[o],a)}},{key:"_dcapiGetAssetUri",value:function _dcapiGetAssetUri(i){return this._dcapi&&i.startsWith("urn:")?this._dcapi.getTemplateURI("asset_uri",{asset_id:i}):i}},{key:"_dcapiMetadataCall",value:function _dcapiMetadataCall(i,r){var a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new Promise((function(s,u){a._dcapi.call("assets.get_metadata",{accept:"asset_metadata_basic_v1.json",resource_parameter:a._dcapiGetAssetUri(i),headers:{"x-request-id":m.a.v4()}}).then((function(c){var d,l=c,f=l.content.page_count;if(l.content.numPages=f,(r.enableRetryForPDFs||a.queryParams.enableRetryForPDFs||"application/pdf"!==l.content.type)&&!f){var p="application/pdf"===l.content.type?10:5,h="application/pdf"===l.content.type?1e3:0;o===p?l.content.numPages=1:d=new Promise((function(s,u){setTimeout((function(){a._dcapiMetadataCall(i,r,o+1).then(s).catch(u)}),h)}))}d||(d=Promise.resolve(l)),d.then(s).catch(u)}),(function(i){u(i)}))}))}},{key:"_dcapiGetMetadata",value:function _dcapiGetMetadata(i,r){var a=this;return this._assetRenditions[i]&&this._assetRenditions[i].dcapi&&this._assetRenditions[i].dcapi.contentData&&!0!==r.forceCacheless?Promise.resolve(this._assetRenditions[i].dcapi.contentData):RenditionAPI._isReviewAsset(r)||RenditionAPI._isParcelAsset(r)?this._reviewGetMetadata(i,r):RenditionAPI._isPDFNowAsset(r)?this._pdfnowGetMetadata(i,r):RenditionAPI._isConnectorAsset(r)?this._connectorGetMetadata(i,r):new Promise((function(o,s){a.dcapiPromise.then((function(){var u,c,d=a._dcapiMetadataCall(i,r),l=a._dcapiGetDocumentRenditionStatus(i);d.then((function(i){u=i}),(function(i){s(i)})),l.then((function(i){c=i}),(function(i){s(i)})),Promise.all([d,l]).then((function(){a._cacheRendition(i,{dcapi:{contentData:z(u.content)}}),a._cacheRendition(i,{dcapi:{contentData:{documentRenditionStatus:c}}}),o(a._assetRenditions[i].dcapi.contentData)}))}))}))}},{key:"_dcapiIsPDFAsset",value:function _dcapiIsPDFAsset(i,r){var a=this;return new Promise((function(o,s){r.useDCAPI?a._dcapiGetMetadata(i,r).then((function(){a._assetRenditions[i]&&"application/pdf"===a._assetRenditions[i].dcapi.contentData.type?o():s()})).catch(s):o()}))}},{key:"_isPDFAsset",value:function _isPDFAsset(i,r){var a=this;return new Promise((function(o,s){r&&"application/pdf"===r.assetMimeType?o():a._dcapiIsPDFAsset(i,r).then(o).catch(s)}))}},{key:"_ajsPostMetaData",value:function _ajsPostMetaData(i,r){var a=this,o=this._fetchCompletePDFBuffer(i,r);return r.enableLinearization&&!r.password?x(this._ajsGetLinearizedContentData(i,r)):o.then((function(i){return x(a._ajsGetContentData(i,r)).catch((function(r){var o=ArrayBuffer.isView(i)?i.buffer:i;return a._logger.emit("ajsGetContentData Failed",{error:JSON.stringify(r),documentid:a._documentId||"",size:o?o.byteLength:-1}),Promise.reject(r)}))}))}},{key:"_fetchCompletePDFBuffer",value:function _fetchCompletePDFBuffer(i,r){var a=this;return(RenditionAPI._isExternalAsset(r)?x(this._externalGetDownloadUri(i,r)).catch((function(i){return a._logGetDownloadUriFailed("external",i.toString()),Promise.reject(i)})).then((function(r){return x(a._externalGetContentBuffer(i,r)).catch((function(i){return a._logGetContentBufferFailed("external",i),Promise.reject(i)}))})):x(this._isPDFAsset(i,r)).catch((function(i){return a._logger.emit("Non PDF asset in AJS flow",{assetType:"non-external",documentid:a._documentId||"",error:JSON.stringify(i)}),Promise.reject(i)})).then((function(){return x(a._dcapiGetDownloadUri(i,r)).catch((function(i){return a._logGetDownloadUriFailed("non-external",i),Promise.reject(i)})).then((function(o){return a._perfTimings.ajs.pdfDownloadStart=W(),a._logPdfDownloadStartTime(a._perfTimings.ajs.pdfDownloadStart-RenditionAPI._getNavigationStart()),x(a._dcapiGetContentBuffer(i,o,r)).catch((function(i){return a._logGetContentBufferFailed("non-external",i),Promise.reject(i)}))}))}))).then((function(o){if(RenditionAPI._isExternalAsset(r)){var s=a._external.apis.file.getDownloadTimes();a._perfTimings.ajs.pdfDownloadStart=s.pdfDownloadStartTime,a._perfTimings.ajs.pdfDownloadEnd=s.pdfDownloadEndTime,a._logPdfDownloadStartTime(a._perfTimings.ajs.pdfDownloadStart),a._getFileSize(i,r).then((function(i){a._logPdfDownloadTotalTime(i)})).catch((function(){a._logPdfDownloadTotalTime(0)}))}else a._perfTimings.ajs.pdfDownloadEnd=W(),a._logger.emit("pdfDownloadTotalTime",{pdfDownloadTotalTime:W()-a._perfTimings.ajs.pdfDownloadStart,documentid:a._documentId||""}),a._setIsS3Url();return o}))}},{key:"_getFileSize",value:function _getFileSize(i,r){return this._externalGetMetadata(i,r).then((function(i){return i.size?i.size:0}))}},{key:"_logPdfDownloadStartTime",value:function _logPdfDownloadStartTime(i){this._logger.emit("pdfDownloadStart",{pdfDownloadStart:i,documentid:this._documentId||""})}},{key:"_logPdfDownloadTotalTime",value:function _logPdfDownloadTotalTime(i){this._logger.emit("pdfDownloadTotalTime",{pdfDownloadTotalTime:this._perfTimings.ajs.pdfDownloadEnd-this._perfTimings.ajs.pdfDownloadStart,documentid:this._documentId||"",fileSize:i,isS3Url:this._isS3Url}),this._setIsS3Url()}},{key:"_logGetDownloadUriFailed",value:function _logGetDownloadUriFailed(i,r){this._logger.emit("GetDownloadUri failed",{assetType:i,documentid:this._documentId||"",error:JSON.stringify(r)})}},{key:"_logGetContentBufferFailed",value:function _logGetContentBufferFailed(i,r){this._logger.emit("GetContentBuffer failed",{assetType:i,documentid:this._documentId||"",error:JSON.stringify(r)})}},{key:"_logLoadOptimizedWasmFloodGateTotalTime",value:function _logLoadOptimizedWasmFloodGateTotalTime(i){this._logger.emit("loadOptimizedWasmFloodGateTotalTime",{loadOptimizedWasmFloodGateTotalTime:performance.now()-this._loadOptimizedWasmFloodGateStartTime,documentid:this._documentId||"",useExperimentalBuild:i})}},{key:"_ajsGetMetadata",value:function _ajsGetMetadata(i,r){var a=this,o=r?_objectSpread2({},r):{};return x(N(i)).then((function(i){a._documentId=i})).catch((function(){a._documentId=""})).then((function(){if(!0!==o.forceCacheless&&a._assetRenditions[i]&&a._assetRenditions[i].ajs&&a._assetRenditions[i].ajs.metadataPromise)return a._assetRenditions[i].ajs.metadataPromise;var r=a._ajsPostMetaData(i,o);return a._cacheRendition(i,{ajs:{metadataPromise:r}}),r}))}},{key:"_externalGetMetadata",value:function _externalGetMetadata(i,r){var a=this;return this._assetRenditions[i]&&this._assetRenditions[i].external&&this._assetRenditions[i].external.metadata&&!0!==r.forceCacheless?Promise.resolve(this._assetRenditions[i].external.metadata):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then((function(){return a._external.getSelectedFilesListFromFileIds([i]).then((function(r){return a._cacheRendition(i,{external:{metadata:r[0]}}),r[0]}))})))}},{key:"_externalGetDownloadUri",value:function _externalGetDownloadUri(i,r){var a=this;return this._assetRenditions[i]&&this._assetRenditions[i].external&&this._assetRenditions[i].external.downloadUri&&!0!==r.forceCacheless?Promise.resolve(this._assetRenditions[i].external.downloadUri):this._externalGetMetadata(i,r).then((function(r){return r.downloadUrl?(a._cacheRendition(i,{external:{downloadUri:r.downloadUrl}}),r.downloadUrl):Promise.reject(new Error("Download Uri not available"))}))}},{key:"_externalGetContentBuffer",value:function _externalGetContentBuffer(i,r){var a=this;return this._assetRenditions[i]&&this._assetRenditions[i].external&&this._assetRenditions[i].external.contentBuffer?Promise.resolve(this._assetRenditions[i].external.contentBuffer):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then((function(){return a._external.getFileContents(r).then((function(r){return a._cacheRendition(i,{external:{contentBuffer:r},ajs:{contentBuffer:r}}),r}))})))}},{key:"_connectorGetRendition",value:function _connectorGetRendition(i,r){var a=this,o=r.size||"3200",s="".concat(i,"-").concat(0);if(!0===r.forceCacheless||!this._assetPageRenditions[s]||!this._assetPageRenditions[s].connector||!this._assetPageRenditions[s].connector.pageImgBuffer||this._assetPageRenditions[s].connector.size!==o||0!==this._assetPageRenditions[s].connector.page){var u=new URLSearchParams(window.location.search);return"/onedrive"===r.assetType?R.providers["storage-connectors"]().then((function(s){return s.getStorageProvider("OneDrive").then((function(c){var d=u.get("connectorid");return d||(d=r.connectorId),c.getRendition(i,s.getConnectorById(d),{size:o}).then((function(r){var s={params:{pageImgBuffer:r,mimeType:"image/png",pageNum:0}};return a._cachePageRendition(i,0,{connector:{pageImgBuffer:r,size:o,page:0}}),s}))}))})).catch((function(i){throw new J(i&&i.message||"Unknown")})):"/sharepoint"===r.assetType?R.providers["storage-connectors"]().then((function(s){return s.getStorageProvider("SharePoint").then((function(c){var d=u.get("connectorid");return d||(d=r.connectorId),c.getRendition(i,s.getConnectorById(d),{size:o}).then((function(r){var s={params:{pageImgBuffer:r,mimeType:"image/png",pageNum:0}};return a._cachePageRendition(i,0,{connector:{pageImgBuffer:r,size:o,page:0}}),s}))}))})).catch((function(i){throw new J(i&&i.message||"Unknown")})):Promise.reject(new Error("Not supported"))}var c=this._assetPageRenditions[s].connector,d={params:{pageImgBuffer:c.pageImgBuffer,mimeType:"image/png",pageNum:c.page}};return Promise.resolve(d)}},{key:"_connectorGetMetadata",value:function _connectorGetMetadata(i,r){var a=this;if(!0===r.forceCacheless||!this._assetRenditions[i]||!this._assetRenditions[i].connector||!this._assetRenditions[i].connector.metaData){var o=new URLSearchParams(window.location.search);return"/onedrive"===r.assetType?R.providers["storage-connectors"]().then((function(r){return r.getStorageProvider("OneDrive").then((function(s){var u=o.get("connectorid");return s.getItem(i,r.getConnectorById(u)).then((function(o){var c=s.normalizeItem(o,r.getConnectorById(u));return"application/pdf"!==c.type&&(c.numPages=1,c.page_count=1),a._cacheRendition(i,{connector:{metaData:c},ajs:{metaData:c}}),c}))}))})):"/sharepoint"===r.assetType?R.providers["storage-connectors"]().then((function(r){return r.getStorageProvider("SharePoint").then((function(s){var u=o.get("connectorid");return s.getItem(i,r.getConnectorById(u)).then((function(o){var c=s.normalizeItem(o,r.getConnectorById(u));return"application/pdf"!==c.type&&(c.numPages=1,c.page_count=1),a._cacheRendition(i,{connector:{metaData:c},ajs:{metaData:c}}),c}))}))})):Promise.reject(new Error("Not supported"))}return Promise.resolve(this._assetRenditions[i].connector.metaData)}},{key:"_connectorGetContentBuffer",value:function _connectorGetContentBuffer(i,r){var a=this;if(!this._assetRenditions[i]||!this._assetRenditions[i].connector||!this._assetRenditions[i].connector.contentBuffer){var o=new URLSearchParams(window.location.search);return"/onedrive"===r.assetType?R.providers["storage-connectors"]().then((function(r){return r.getStorageProvider("OneDrive").then((function(s){var u=o.get("connectorid");return s.getFileContent(i,r.getConnectorById(u)).then((function(r){return a._cacheRendition(i,{connector:{contentBuffer:r},ajs:{contentBuffer:r}}),r}))}))})):"/sharepoint"===r.assetType?R.providers["storage-connectors"]().then((function(r){return r.getStorageProvider("SharePoint").then((function(s){var u=o.get("connectorid");return s.getFileContent(i,r.getConnectorById(u)).then((function(r){return a._cacheRendition(i,{connector:{contentBuffer:r},ajs:{contentBuffer:r}}),r}))}))})):Promise.reject(new Error("Not supported"))}return Promise.resolve(this._assetRenditions[i].connector.contentBuffer)}},{key:"_dcapiGetRenditionUri",value:function _dcapiGetRenditionUri(i){var r=this;return this._assetRenditions[i]&&this._assetRenditions[i].dcapi&&this._assetRenditions[i].dcapi.renditionUri?Promise.resolve(this._assetRenditions[i].dcapi.renditionUri):this._dcapi.call("assets.rendition_uri",{resource_parameter:this._dcapiGetAssetUri(i),accept:"asset_uri_rendition_v1.json",headers:{"x-request-id":m.a.v4()}}).then((function(a){return r._cacheRendition(i,{dcapi:{renditionUri:a.content.uri}}),a.content.uri}),(function(i){return Promise.reject(i)}))}},{key:"_externalGetRendition",value:function _externalGetRendition(i,r){var a=this,o=void 0!==r.pageNum?r.pageNum:1,s="".concat(i,"-").concat(o);return this._assetPageRenditions[s]&&this._assetPageRenditions[s].external&&this._assetPageRenditions[s].external.rendition&&this._assetPageRenditions[s].external.rendition[o]&&!0!==r.forceCacheless?Promise.resolve(this._assetPageRenditions[s].external.rendition[o]):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then((function(){return"function"!=typeof a._external.getRenditionByFileId?Promise.reject(new Error("Cannot get External rendition")):a._external.getRenditionByFileId(i,r).then((function(r){var s={external:{rendition:{}}};return s.external.rendition[o]={params:r},a._cachePageRendition(i,o,s),Promise.resolve({params:r})}),(function(i){return Promise.reject(i)}))})))}},{key:"_dcapiGetDirectRenditionForPage",value:function _dcapiGetDirectRenditionForPage(i,r){var a,o=this,s=r.size||"1200",u=r.format||"jpg",c=void 0!==r.pageNum?r.pageNum:1,d="".concat(i,"-").concat(c),l=this._assetPageRenditions[d];if(l&&(a=l.dcapi),a&&a.pageImgBuffer&&a.format===u&&a.size===s&&a.page===c){var f={params:{pageImgBuffer:a.pageImgBuffer,mimeType:a.mimeType,pageNum:a.page}};return Promise.resolve(f)}return this._dcapi.call("assets.rendition_direct",{accept:"image/*",resource_parameter:RenditionAPI._dcapiGetAssetUrn(i),uri_parameters:{size:s,format:u,page:c-1,processing_hint:"speed_over_quality"},headers:{"x-request-id":m.a.v4()},responseType:"arraybuffer"}).then((function(r){var a={params:{pageImgBuffer:r.content,mimeType:r.headers["content-type"],pageNum:c}};return o._cachePageRendition(i,c,{dcapi:{pageImgBuffer:r.content,mimeType:r.headers["content-type"],size:s,page:c,format:u}}),Promise.resolve(a)}),(function(i){return Promise.reject(i)}))}},{key:"_dcapiGetRendition",value:function _dcapiGetRendition(i,r){var a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=Date.now();return(RenditionAPI._isReviewAsset(r)||RenditionAPI._isParcelAsset(r)?this._reviewGetRendition(i,r):RenditionAPI._isPDFNowAsset(r)?this._pdfnowGetRendition(i,r):RenditionAPI._isConnectorAsset(r)?this._connectorGetRendition(i,r):this.dcapiPromise.then((function(){return a._dcapiGetDirectRenditionForPage(i,r)}))).catch((function(u){var c=u.code;if(404===c||429===c){if(o<10)return q(1e3).then((function(){return a._dcapiGetRendition(i,r,o+1)}));var d=r.format,l=r.size,f=r.type;a._logger.emit("dcapiGetRendition max retries",{asset_uri:i,code:c,format:d,level:"error",rendition_duration:Date.now()-s,size:l,type:f})}throw u}))}},{key:"_dcapiGetDocumentRenditionUri",value:function _dcapiGetDocumentRenditionUri(i,r){var a=this,o=r;return this.dcapiPromise.then((function(){var r=o.format||"owp";return a._assetRenditions[i]&&a._assetRenditions[i].dcapi&&a._assetRenditions[i].dcapi.documentRenditionUri?Promise.resolve(a._assetRenditions[i].dcapi.documentRenditionUri+(o.format?"&format=".concat(o.format):"")):a._dcapi.call("assets.rendition_uri",{resource_parameter:a._dcapiGetAssetUri(i),accept:"asset_uri_rendition_v1.json",uri_parameters:{make_ticket:"owp"===r,type:"document"},headers:{"x-request-id":m.a.v4()}}).then((function(r){return a._cacheRendition(i,{dcapi:{documentRenditionUri:r.content.uri}}),a._assetRenditions[i].dcapi.documentRenditionUri+(o.format?"&format=".concat(o.format):"")}),(function(i){return Promise.reject(i)}))}))}},{key:"_dcapiGetDocumentRendition",value:function _dcapiGetDocumentRendition(i,r){var a=this,o=r;return this.dcapiPromise.then((function(){var r=o.format||"owp";return o.format=void 0,a._dcapiGetDocumentRenditionUri(i,o).then((function(i){return a._dcapi.call("assets.document_rendition",{accept:"*/*",resource_parameter:i,uri_parameters:{format:r,fallback:"none"},headers:{"x-request-id":m.a.v4()},responseType:"arraybuffer"}).then((function(i){return i.content}))}))}))}},{key:"_dcapiGetDocumentRenditionStatus",value:function _dcapiGetDocumentRenditionStatus(i){var r=this;return this.dcapiPromise.then((function(){return r._dcapi.call("assets.document_rendition_status",{resource_parameter:r._dcapiGetAssetUri(i),accept:"asset_document_rendition_status_v1.json",headers:{"x-request-id":m.a.v4()}}).then((function(i){return i.content.document_rendition_status}),(function(i){return Promise.reject(i)}))}))}},{key:"_reviewGetDownloadUri",value:function _reviewGetDownloadUri(i){var r=this;return this._initReviewProviderIfRequired(),new Promise((function(a,o){r.reviewApiPromise.then((function(){var s=r._reviewApi.getReview(i),u=!0;if(void 0!==s){var c=performance.now();s.getFileDownloadURL("view",u).then((function(i){r._setIsS3Url(!0),a(i),r._logDownloadUriTotalTime(c)})).catch((function(){return u=!1,s.getFileDownloadURL("view",u).then((function(i){r._setIsS3Url(!1),a(i),r._logDownloadUriTotalTime(c)})).catch((function(i){r._setIsS3Url(),r._logger.emit("Failed to fetch reviewDownloadUri",JSON.stringify(i))}))}))}else o(new Error("Review does not exist"))}))}))}},{key:"_setIsS3Url",value:function _setIsS3Url(i){this._isS3Url=i}},{key:"_logDownloadUriTotalTime",value:function _logDownloadUriTotalTime(i){this._logger.emit("pdfDownloadUriTotalTime",{pdfDownloadUriTotalTime:performance.now()-i,documentid:this._documentId||""})}},{key:"_reviewGetMetadata",value:function _reviewGetMetadata(i){var r=this;return this._initReviewProviderIfRequired(),new Promise((function(a,o){r.reviewApiPromise.then((function(){var s=r._reviewApi.getReview(i);void 0!==s?s.getSendBootstrapData().then((function(u){var c={};if(u&&u.meta_list&&u.meta_list instanceof Array&&u.meta_list.length>s.getDownloadAssetIndex()){var d=u.meta_list[s.getDownloadAssetIndex()];c.type=d.content_type,c.assetMimeType=d.content_type,c.name=d.name,c.last_pagenum=d.last_pagenum||0,c.numPages=d.page_count||0,c.size=d.size,r._cacheRendition(i,{dcapi:{contentData:z(c)}}),a(c)}else o(new Error("Invalid Bootstrap data"))})).catch((function(i){o(i)})):o(new Error("Review does not exist"))})).catch(o)}))}},{key:"_reviewGetRenditionAuthHeader",value:function _reviewGetRenditionAuthHeader(i){var r=i;return this._dcapi&&this._dcapi.session&&this._dcapi.session.content&&this._dcapi.session.content.access_token&&(r.headers={Authorization:"Bearer ".concat(this._dcapi.session.content.access_token)}),r}},{key:"_getReviewRenditionURL",value:function _getReviewRenditionURL(i,r){var a=this,o=void 0!==r.pageNum?r.pageNum-1:0,s=parseInt(r.size||"1200",10),u=s<=500;return s>500&&RenditionAPI._isReviewAsset(r)?Promise.reject():new Promise((function(r,c){a.reviewApiPromise.then((function(){a._reviewApi.instantiateReview().then((function(){var d=a._reviewApi.getReview(i);void 0!==d?d.getSendBootstrapData(!1,u).then((function(u){if(u&&u.meta_list&&u.meta_list instanceof Array&&u.meta_list.length>d.getDownloadAssetIndex()){var l=u.meta_list[d.getDownloadAssetIndex()].asset_urn;if(i&&l){var f=R.envUtil.getEnvVar("files_uri","https://files.stage.acrobat.com"),p="".concat(f,"/api/base_uris"),h={headers:{Accept:"application/vnd.adobe.dex+json;version=1","x-api-client-id":"api_browser"}};a.filesTierBaseUriPromise=b.a.http.get(p,h),a.filesTierBaseUriPromise.then((function(a){var u,c=JSON.parse(a.content).send_api.replace("/api/","/invitation/"),d="".concat(c+encodeURIComponent(i),"/asset/").concat(encodeURIComponent(l));switch(!0){case s<=30:u="/icon";break;case s<=120:u="/thumbnail";break;case s<=500:u="/tile";break;default:u="/preview"}d+=u,o&&(d+="?page=".concat(o)),r(d)}),c)}else c(new Error("Invalid Bootstrap data"))}else c(new Error("Invalid Bootstrap data"))})).catch(c):c(new Error("Review does not exist"))}),c)})).catch(c)}))}},{key:"_reviewGetRendition",value:function _reviewGetRendition(i,r){var a=this;this._initReviewProviderIfRequired();var o=r.size||"1200";return new Promise((function(s,u){a._getReviewRenditionURL(i,r).then((function(c){var d={withCredentials:a.options.fetchWithCredentials};(d=a._reviewGetRenditionAuthHeader(d)).headers||(d.headers={}),Object.assign(d.headers,{ACCEPT:"application/vnd.adobe.skybox+json;version=1","x-api-client-id":"api_browser"});var l=void 0!==r.pageNum?r.pageNum:1,f="".concat(i,"-").concat(l);if(a._assetPageRenditions[f]&&a._assetPageRenditions[f].dcapi&&a._assetPageRenditions[f].dcapi.pageImgBuffer&&a._assetPageRenditions[f].dcapi.renditionUri===c&&a._assetPageRenditions[f].dcapi.size===o&&a._assetPageRenditions[f].dcapi.page===l){var p={params:{pageImgBuffer:a._assetPageRenditions[f].dcapi.pageImgBuffer,mimeType:a._assetPageRenditions[f].dcapi.mimeType,pageNum:a._assetPageRenditions[f].dcapi.page}};s(p)}else RenditionAPI._fetchWithCredentials(c,d).then((function(r){var f;r&&200===r.status&&r.content&&(f=JSON.parse(r.content).url);f?(d={responseType:"arraybuffer",withCredentials:a.options.fetchWithCredentials},(d=a._reviewGetRenditionAuthHeader(d)).headers||(d.headers={}),RenditionAPI._fetchWithCredentials(f,d).then((function(r){var u={params:{pageImgBuffer:r.content,mimeType:r.headers["content-type"],pageNum:l}};a._cachePageRendition(i,l,{dcapi:{renditionUri:c,pageImgBuffer:r.content,mimeType:r.headers["content-type"],size:o,page:l}}),s(u)})).catch((function(i){u(i)}))):u(new Error("Redirect url could not be obtained"))})).catch((function(i){u(i)}))})).catch((function(){u(new Error("Review Rendition url could not be created"))}))}))}},{key:"_dcapiGetDownloadUri",value:function _dcapiGetDownloadUri(i,r){var a=this;return RenditionAPI._isReviewAsset(r)||RenditionAPI._isParcelAsset(r)?this._reviewGetDownloadUri(i,r):RenditionAPI._isSignAsset(r)?Promise.resolve(i):this.options.useDCAPI?this._assetRenditions[i]&&this._assetRenditions[i].dcapi&&this._assetRenditions[i].dcapi.downloadUri?Promise.resolve(this._assetRenditions[i].dcapi.downloadUri):this._dcapiGetDocumentRenditionUri(i,v()(r,{format:void 0})).then((function(r){return a._cacheRendition(i,{dcapi:{downloadUri:"".concat(r,"&format=ftpdf&fallback=original")}}),a._assetRenditions[i].dcapi.downloadUri}),(function(i){return Promise.reject(i)})):Promise.resolve(i)}},{key:"_dcapiGetUserDownloadUri",value:function _dcapiGetUserDownloadUri(i,r){var a=this;return RenditionAPI._isReviewAsset(r)||RenditionAPI._isParcelAsset(r)?this._reviewGetDownloadUri(i,r):this.options.useDCAPI?this._assetRenditions[i]&&this._assetRenditions[i].dcapi&&this._assetRenditions[i].dcapi.userDownloadUri?Promise.resolve(this._assetRenditions[i].dcapi.userDownloadUri):this.dcapiPromise.then((function(){return a._dcapi.call("assets.download_uri",{resource_parameter:a._dcapiGetAssetUri(i),accept:"asset_uri_download_v1.json",headers:{"x-request-id":m.a.v4()}}).then((function(r){return a._cacheRendition(i,{dcapi:{userDownloadUri:r.content.uri}}),r.content.uri}),(function(i){return Promise.reject(i)}))})):Promise.resolve(i)}},{key:"_dcapiSetLastPageNum",value:function _dcapiSetLastPageNum(i,r){var a=this;return RenditionAPI._isReviewAsset(r)||RenditionAPI._isParcelAsset(r)?Promise.reject(new Error("Cannot set last page number on a review/parcel asset")):this.dcapiPromise.then((function(){return a._dcapi.call("assets.put_metadata_field",{resource_parameter:a._dcapiGetAssetUri(i),content_type:"asset_metadata_field_v1.json",content:{last_pagenum:r.lastPageNum-1},uri_parameters:{fields:"last_pagenum"}})}))}},{key:"_dcapiSetLastAccess",value:function _dcapiSetLastAccess(i,r){var a=this;return RenditionAPI._isReviewAsset(r)||RenditionAPI._isParcelAsset(r)?Promise.reject(new Error("Cannot set last access on a review/parcel asset")):this.dcapiPromise.then((function(){return a._dcapi.call("assets.put_metadata_field",{resource_parameter:a._dcapiGetAssetUri(i),content_type:"asset_metadata_field_v1.json",content:{last_access:""},uri_parameters:{fields:"last_access"}})}))}},{key:"_dcapiGetContentBuffer",value:function _dcapiGetContentBuffer(i,r,a){var o=this;if(!this._assetRenditions[i]||!this._assetRenditions[i].dcapi||!this._assetRenditions[i].dcapi.contentBuffer){var s={responseType:"arraybuffer",withCredentials:this.options.fetchWithCredentials};return!RenditionAPI._isSignAsset(a)&&this._dcapi&&this._dcapi.session&&this._dcapi.session.content&&this._dcapi.session.content.access_token&&(s.headers={Authorization:"Bearer ".concat(this._dcapi.session.content.access_token)}),RenditionAPI._fetchWithCredentials(r,s).then((function(r){var a=r.content;return o._cacheRendition(i,{ajs:{contentBuffer:a,contentFormat:r.headers["x-content-format"]},dcapi:{contentBuffer:a,contentFormat:r.headers["x-content-format"]}}),a}))}return Promise.resolve(this._assetRenditions[i].dcapi.contentBuffer)}},{key:"_dcapiGetUserContentBuffer",value:function _dcapiGetUserContentBuffer(i,r){var a=this;if(!this._assetRenditions[i]||!this._assetRenditions[i].dcapi||!this._assetRenditions[i].dcapi.userContentBuffer){var o={responseType:"arraybuffer",withCredentials:this.options.fetchWithCredentials};return this._dcapi&&this._dcapi.session&&this._dcapi.session.content&&this._dcapi.session.content.access_token&&(o.headers={Authorization:"Bearer ".concat(this._dcapi.session.content.access_token)}),RenditionAPI._fetchWithCredentials(r,o).then((function(r){var o=r.content;return a._cacheRendition(i,{ajs:{userContentBuffer:o},dcapi:{userContentBuffer:o}}),o}))}return Promise.resolve(this._assetRenditions[i].dcapi.userContentBuffer)}},{key:"_pdfnowGetMetadata",value:function _pdfnowGetMetadata(i,r){var a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this._assetRenditions[i]&&this._assetRenditions[i].pdfnow&&this._assetRenditions[i].pdfnow.contentData&&!0!==r.forceCacheless?Promise.resolve(this._assetRenditions[i].pdfnow.contentData):(this._pdfnowInitPromise()&&this._pdfnowInit(),new Promise((function(s,u){a.pdfnowApiPromise.then((function(){a._pdfnowDcapi.call("assets.get_metadata",{accept:"asset_metadata_basic_v1.json",resource_parameter:i}).then((function(c){var d=c.content;d.assetMimeType=c.content_type,d.last_pagenum=c.content.last_pagenum||0;var l,f=c.content.page_count;return void 0===f&&(5===o?f=1:l=a._pdfnowGetMetadata(i,r,o+1)),l||(d.numPages=f,a._cacheRendition(i,{pdfnow:{contentData:z(d)}}),l=Promise.resolve(a._assetRenditions[i].pdfnow.contentData)),l.then(s).catch(u)})).catch(u)})).catch(u)})))}},{key:"_pdfnowGetRendition",value:function _pdfnowGetRendition(i,r){var a=this,o=r.size||"3200",s=r.format||"png",u=void 0!==r.pageNum?r.pageNum:1,c="".concat(i,"-").concat(u);if(!0===r.forceCacheless||!this._assetPageRenditions[c]||!this._assetPageRenditions[c].pdfnow||!this._assetPageRenditions[c].pdfnow.pageImgBuffer||this._assetPageRenditions[c].pdfnow.format!==s||this._assetPageRenditions[c].pdfnow.size!==o||this._assetPageRenditions[c].pdfnow.page!==u)return this._pdfnowInitPromise()&&this._pdfnowInit(),new Promise((function(r,c){a.pdfnowApiPromise.then((function(){a._pdfnowDcapi.call("assets.rendition_direct",{accept:"image/*",resource_parameter:i,responseType:"arraybuffer",uri_parameters:{format:s,page:u-1,size:o}}).then((function(c){var d={params:{pageImgBuffer:c.content,mimeType:c.headers["content-type"],pageNum:u}};a._cachePageRendition(i,u,{pdfnow:{pageImgBuffer:c.content,mimeType:c.headers["content-type"],size:o,page:u,format:s}}),r(d)})).catch(c)})).catch(c)}));var d=this._assetPageRenditions[c].pdfnow,l={params:{pageImgBuffer:d.pageImgBuffer,mimeType:d.mimeType,pageNum:d.page}};return Promise.resolve(l)}},{key:"_ajsGetContentData",value:function _ajsGetContentData(i,r){var a=this,o=ArrayBuffer.isView(i)?i.buffer:i;return this._logger.emit("ajsGetContentData Called",{documentid:this._documentId||"",size:o?o.byteLength:-1}),this._getAjs().then((function(){return a.ajs.openPDF({buffer:o,password:r.password}).then((function(r){return Object.assign({},r.data,{buffer:i})}))}))}},{key:"_ajsGetLinearizedContentData",value:function _ajsGetLinearizedContentData(i,r){var a=this;return this._fetchPDFSize(i,r).then((function(o){var s={fetchPDFBufferRanges:function fetchPDFBufferRanges(o){return a._fetchPDFBufferRanges(i,r,o).catch((function(){return a._fetchPDFBufferRanges(i,r,[{start:0}]).then((function(i){var r=i[0];return o.map((function(i){return r.slice(i.start,Math.min(i.end+1,r.byteLength))}))}))}))},pdfSize:o};return a._getAjs().then((function(){return a.ajs.openLinearizedPDF(s).then((function(i){return i.data}))}))})).catch((function(){return a._fetchPDFBufferRanges(i,r,[{start:0}]).then((function(i){return a._ajsGetContentData(i[0],r)}))}))}},{key:"_ajsGetRenditionForPage",value:function _ajsGetRenditionForPage(i,r){var a=this,o=Object.assign({devicePixelRatio:1},r),s=o.requestType;"page"===s?s=U.PAGE:"cache"===s?s=U.PAGE_CACHE:"thumbnail"===s&&(s=U.THUMBNAIL),o.requestType=s;var u=o.priority,c=o.viewState;return this._getAjs().then((function(){return a.ajs.getPageRendition(o,c,u).then((function(i){var r=Object.assign({},i),a=r.data,o=a.buffer,s=_objectWithoutProperties(a,["buffer"]);return r.params=_objectSpread2({pageImgBuffer:o},s),delete r.data,r}))}))}},{key:"_downloadUserAssetContentBuffer",value:function _downloadUserAssetContentBuffer(i,r){var a=this,o=r||{};return this._dcapiGetUserDownloadUri(i,o).then((function(r){return a._dcapiGetUserContentBuffer(i,r).then((function(i){return i}))}))}},{key:"_ajsPerformCommand",value:function _ajsPerformCommand(i,r){var a=this,o=r.commandName;return"forceSwitchJS"===o?(this._resetReviewProvider(),this._getAjs().then((function(){return a.ajs.loadFullWorker()}))):"resetWorker"===o?(this._assetRenditions[i]&&this._assetRenditions[i].ajs&&delete this._assetRenditions[i].ajs,this._assetRenditions[i]&&this._assetRenditions[i].dcapi&&(delete this._assetRenditions[i].dcapi.contentData,delete this._assetRenditions[i].dcapi.contentBuffer,delete this._assetRenditions[i].dcapi.contentFormat),this._assetRenditions[i]&&this._assetRenditions[i].external&&(delete this._assetRenditions[i].external.contentBuffer,delete this._assetRenditions[i].external.metadata),this.closeRendition(i,_objectSpread2(_objectSpread2({},r),{},{cancelPromises:!0})),this._resetReviewProvider(),this._getAjs().then((function(){return a.ajs.terminate()})).then((function(){return a._ajsSetup()}))):"getPerfTimings"===o?Promise.resolve(this._perfTimings):this._getAjs().then((function(){if(a.ajs[o]){var i=r.priority,s=r.viewState,u=_objectWithoutProperties(r,["priority","viewState"]);return a.ajs[o](u,s,i)}return a._logger.emit("Unknown AJS Command",{commandName:o,documentid:a._documentId||""}),Promise.reject(new Error("Unknown AJS command"))}))}},{key:"_dcapiPerformCommand",value:function _dcapiPerformCommand(i,r){var a=this;return this.dcapiPromise.then((function(){return new Promise((function(o,s){"setLastPageNum"===r.commandName?a._dcapiSetLastPageNum(i,r).then(o).catch(s):"setLastAccess"===r.commandName?a._dcapiSetLastAccess(i,r).then(o).catch(s):"getContentBuffer"===r.commandName?a.downloadAssetContentBuffer(i,r).then(o).catch(s):"getUserContentBuffer"===r.commandName?a._downloadUserAssetContentBuffer(i,r).then(o).catch(s):s()}))}))}},{key:"_externalPerformCommand",value:function _externalPerformCommand(i,r){var a=this;return new Promise((function(o,s){"setLastPageNum"===r.commandName?o():"getContentBuffer"===r.commandName?a.downloadAssetContentBuffer(i,r).then(o).catch(s):"setLastAccess"===r.commandName||"getUserContentBuffer"===r.commandName?o():s()}))}},{key:"ready",value:function ready(){return Promise.resolve(this)}},{key:"performCommand",value:function performCommand(i,r){var a={},o=r||{};return o.useDCAPI=!1!==o.useDCAPI&&this.options.useDCAPI,o.useAJS=!1!==o.useAJS&&this.options.useAJS,o.enableExternal=!1!==o.enableExternal&&this.options.enableExternal,o.useAJS?a.ajs=this._ajsPerformCommand(i,o):a.ajs=Promise.reject(new Error("Cannot perform AJS command if AJS is disabled")),o.useDCAPI?a.dcapi=this._dcapiPerformCommand(i,o):a.dcapi=Promise.reject(new Error("Cannot perform DCAPI command if DCAPI is disabled")),o.enableExternal&&RenditionAPI._isExternalAsset(o)&&(a.external=this._externalPerformCommand(i,o)),a}},{key:"isCompletePDFBufferAvailable",value:function isCompletePDFBufferAvailable(){return this._completePDFBufferAvailablePromise}},{key:"getMetadata",value:function getMetadata(i,r){var a={},o=r||{};return o.useDCAPI=!1!==o.useDCAPI&&this.options.useDCAPI,o.useAJS=!1!==o.useAJS&&this.options.useAJS,o.enableExternal=!1!==o.enableExternal&&this.options.enableExternal,o.useDCAPI?a.dcapi=this._dcapiGetMetadata(i,o):a.dcapi=Promise.reject(new Error("Cannot get DCAPI metadata if DCAPI is disabled")),o.enableExternal&&RenditionAPI._isExternalAsset(o)&&(a.external=this._externalGetMetadata(i,o)),o.useAJS?a.ajs=this._ajsGetMetadata(i,o):a.ajs=Promise.reject(new Error("Cannot get AJS metadata if AJS is disabled")),a}},{key:"_ajsRegisterLicense",value:function _ajsRegisterLicense(){var i=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={token:r.licenseString,domain:r.domain};return this._getAjs().then((function(){return i.ajs.registerLicense(a)}))}},{key:"registerLicense",value:function registerLicense(i){var r={},a=i||{};return a.useDCAPI=!1!==a.useDCAPI&&this.options.useDCAPI,a.useAJS=!1!==a.useAJS&&this.options.useAJS,r.dcapi=Promise.reject(new Error("DCAPI doesn't support sdk license validation")),a.useAJS?r.ajs=this._ajsRegisterLicense(a):r.ajs=Promise.reject(new Error("Cannot register license if AJS is disabled")),r}},{key:"getRendition",value:function getRendition(i,r){var a={},o=r||{};return o.useDCAPI=!1!==o.useDCAPI&&this.options.useDCAPI,o.useAJS=!1!==o.useAJS&&this.options.useAJS,o.enableExternal=!1!==o.enableExternal&&this.options.enableExternal,o.useDCAPI?a.dcapi=this._dcapiGetRendition(i,o):a.dcapi=Promise.reject(new Error("Cannot get DCAPI rendition if DCAPI is disabled")),o.enableExternal&&RenditionAPI._isExternalAsset(o)&&(a.external=this._externalGetRendition(i,o)),o.useAJS?a.ajs=this._ajsGetRenditionForPage(i,o):a.ajs=Promise.reject(new Error("Cannot get AJS rendition if AJS is disabled")),a}},{key:"getDocumentRenditionUri",value:function getDocumentRenditionUri(i,r){var a={},o=r||{};return o.useDCAPI=!1!==o.useDCAPI&&this.options.useDCAPI,o.useAJS=!1!==o.useAJS&&this.options.useAJS,o.useDCAPI?a.dcapi=this._dcapiGetDocumentRenditionUri(i,o):a.dcapi=Promise.reject(new Error("Cannot get DCAPI doc rendition URI if DCAPI is disabled")),a.ajs=Promise.reject(new Error("Cannot get AJS doc rendition URI")),a}},{key:"getDocumentRendition",value:function getDocumentRendition(i,r){var a={},o=r||{};return o.useDCAPI=!1!==o.useDCAPI&&this.options.useDCAPI,o.useAJS=!1!==o.useAJS&&this.options.useAJS,o.useDCAPI?a.dcapi=this._dcapiGetDocumentRendition(i,o):a.dcapi=Promise.reject(new Error("Cannot get DCAPI doc rendition if DCAPI is disabled")),a.ajs=Promise.reject(new Error("Cannot get AJS doc rendition")),a}},{key:"getDocumentRenditionStatus",value:function getDocumentRenditionStatus(i,r){var a={},o=r||{};return o.useDCAPI=!1!==o.useDCAPI&&this.options.useDCAPI,o.useAJS=!1!==o.useAJS&&this.options.useAJS,o.useDCAPI?a.dcapi=this._dcapiGetDocumentRenditionStatus(i):a.dcapi=Promise.reject(new Error("Cannot get DCAPI doc rendition status if DCAPI is disabled")),a.ajs=Promise.reject(new Error("Cannot get DCAPI doc rendition status")),a}},{key:"downloadAssetContentBuffer",value:function downloadAssetContentBuffer(i,r){var a=this;return r&&RenditionAPI._isExternalAsset(r)?this._externalGetDownloadUri(i,r).then((function(r){return a._externalGetContentBuffer(i,r).then((function(i){return i}))})):this._assetRenditions[i]&&this._assetRenditions[i].dcapi&&this._assetRenditions[i].dcapi.contentBuffer?Promise.resolve(this._assetRenditions[i].dcapi.contentBuffer):this._dcapiGetDownloadUri(i,r).then((function(o){return a._dcapiGetContentBuffer(i,o,r).then((function(i){return i}))}))}},{key:"closeRendition",value:function closeRendition(i,r){var a={dcapi:Promise.resolve(),ajs:Promise.resolve()},o=r||{};o.useDCAPI=!1!==o.useDCAPI&&this.options.useDCAPI,this._assetRenditions[i]&&o.clearCache&&(delete this._assetRenditions[i],this._assetRenditionsIndex=this._assetRenditionsIndex.filter((function(r){return r!==i}))),o.clearCache&&(this._assetPageRenditions=Object.entries(this._assetPageRenditions).reduce((function(r,a){var o=Object(c.a)(a,2),s=o[0],u=o[1];return s.startsWith(i)||(r[s]=u),r}),{}),this._assetPageRenditionsIndex=Object.keys(this._assetPageRenditions)),o.useDCAPI&&void 0!==o.lastPageNum&&(a.dcapi=this._dcapiSetLastPageNum(i,o)),o.cancelPromises&&function cancelAllPromises(){O.forEach((function(i){i.cancel()})),O=[]}()}},{key:"getOwnScriptSrc",value:function getOwnScriptSrc(){var i;return _toConsumableArray(document.scripts).forEach((function(r){var a=r.src;return-1===a.indexOf("rendition.js")||(i=a,!1)})),i}},{key:"getAJSWorker",value:function getAJSWorker(){}}],[{key:"_getQueryParams",value:function _getQueryParams(i){var r,a,o={},s=(i||window.location.search).substr(1).split("&");if(""!==s)for(r=0;r<s.length;r+=1)2===(a=s[r].split("=")).length&&(o[a[0]]=decodeURIComponent(a[1].replace(/\+/g," ")));return o}},{key:"_getOriginFromUrl",value:function _getOriginFromUrl(i){var r=document.createElement("a");return r.href=i,"".concat(r.protocol,"//").concat(r.hostname).concat(r.port?":".concat(r.port):"")}},{key:"_isRunningOnSameOrigin",value:function _isRunningOnSameOrigin(){var i=L.getOwnScriptSrc();return!!i&&RenditionAPI._getOriginFromUrl(window.location.href)===RenditionAPI._getOriginFromUrl(i)}},{key:"_ajsGetPath",value:function _ajsGetPath(){var i="/dc-rendition-provider/2.21.0_3.476.0/AJS/",r="".concat(["_","_","V","E","R","S","I","O","N","_","_"].join(""),"/AJS/");return RenditionAPI._isRunningOnSameOrigin()||(i="/dc-rendition-provider/".concat(r)),i="".concat(window.location.protocol,"//").concat(window.location.host).concat(i)}},{key:"_dcapiGetAssetUrn",value:function _dcapiGetAssetUrn(i){return i.startsWith("urn:")?i:i.substr(i.lastIndexOf("/")+1)}},{key:"_isReviewAsset",value:function _isReviewAsset(i){return"/review"===i.assetType}},{key:"_isParcelAsset",value:function _isParcelAsset(i){return"/parcel"===i.assetType}},{key:"_isExternalAsset",value:function _isExternalAsset(i){return"/external"===i.assetType}},{key:"_isConnectorAsset",value:function _isConnectorAsset(i){return i.assetType&&G.includes(i.assetType)}},{key:"_isSignAsset",value:function _isSignAsset(i){return"/sign"===i.assetType}},{key:"_isPDFNowAsset",value:function _isPDFNowAsset(i){return"/pdfnow"===i.assetType}},{key:"_getNavigationStart",value:function _getNavigationStart(){return window.performance&&window.performance.timing?window.performance.timing.navigationStart:0}},{key:"_fetchWithCredentials",value:function _fetchWithCredentials(i,r){var a,o,s=r||{};(o=s.timeout)>=0||(o=b.a.http.timeout);var u=new Promise((function(r,u){try{(a=new XMLHttpRequest).open("GET",i,!0),o>=0&&(a.timeout=o),s.responseType&&(a.responseType=s.responseType),s.headers&&Object.entries(s.headers).some((function(i){var r=Object(c.a)(i,2),o=r[0],s=r[1];return a.setRequestHeader(o,s)})),s.withCredentials&&(a.withCredentials=s.withCredentials),a.onreadystatechange=function(){if(s.response_content_open){if(!a.readyState||a.readyState<2)return}else if(4!==a.readyState)return;var i;try{if(i={status:a.status,statusText:a.statusText||a.status,headers:b.a.http.parseHeaders(a.getAllResponseHeaders()),content:void 0},s.response_content_open||(a.responseType&&"text"!==a.responseType?i.content=a.response:i.content=a.responseText),!(a.status>0&&a.status<400))throw 0!==a.status||i.statusText||(i.statusText="Timeout or network error"),new b.a.AdobeError(i.statusText,i.status,i);r(i)}catch(r){!r||r instanceof Error?u(r):u(new b.a.AdobeError(r.stack||r,i.status,i))}},s.request_content_open||a.send(void 0)}catch(r){u(new b.a.AdobeError(r.stack||r,0,{method:"GET",url:i,options:s}))}}));return(s.request_content_open||s.response_content_open)&&(u.request=a),u}}]),RenditionAPI}();var V={rendition:{load:function renditionLoad(){return Promise.resolve(H)}},"font-provider":{load:function loadFontProvider(i){return a.p=i,a.e(0).then(a.bind(null,"db8g")).then((function(i){return i.default}))}}};H.getInstance=Object(j.getSingletonFunction)(H,!0),R.providers.rendition=H.getInstance},BRlI:function(i,r,a){"use strict";function _defineProperties(i,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass(i,r,a){return r&&_defineProperties(i.prototype,r),a&&_defineProperties(i,a),i}a.d(r,"a",(function(){return _createClass}))},C70D:function(i,r){function _typeof(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?i.exports=_typeof=function _typeof(i){return typeof i}:i.exports=_typeof=function _typeof(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof(r)}i.exports=_typeof},DjBF:function(i,r,a){"use strict";a.d(r,"a",(function(){return _slicedToArray}));var o=a("dOFO");var s=a("U2vP"),u=a("42jw");function _slicedToArray(i,r){return Object(o.a)(i)||function _iterableToArrayLimit(i,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(i)){var a=[],o=!0,s=!1,u=void 0;try{for(var c,d=i[Symbol.iterator]();!(o=(c=d.next()).done)&&(a.push(c.value),!r||a.length!==r);o=!0);}catch(i){s=!0,u=i}finally{try{o||null==d.return||d.return()}finally{if(s)throw u}}return a}}(i,r)||Object(s.a)(i,r)||Object(u.a)()}},EFGr:function(i){i.exports=JSON.parse('{"a":"2.11.3"}')},EcEN:function(i,r,a){i.exports=a("hrl5")("DlMc")},IIWu:function(i,r,a){i.exports=a("hrl5")("bfRH")},JNGV:function(i,r,a){var o=a("C70D");i.exports=function(i){var r={};function t(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return i[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=i,t.c=r,t.d=function(i,r,a){t.o(i,r)||Object.defineProperty(i,r,{enumerable:!0,get:a})},t.r=function(i){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t.t=function(i,r){if(1&r&&(i=t(i)),8&r)return i;if(4&r&&"object"==o(i)&&i&&i.__esModule)return i;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&r&&"string"!=typeof i)for(var s in i)t.d(a,s,function(r){return i[r]}.bind(null,s));return a},t.n=function(i){var r=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(r,"a",r),r},t.o=function(i,r){return Object.prototype.hasOwnProperty.call(i,r)},t.p="/build/",t(t.s=1)}([function(i,r,a){var s;!function(u,c){"use strict";var d="model",l="name",f="type",p="vendor",h="version",m="mobile",_="tablet",v="smarttv",g={extend:function extend(i,r){var a={};for(var o in i)r[o]&&r[o].length%2==0?a[o]=r[o].concat(i[o]):a[o]=i[o];return a},has:function has(i,r){return"string"==typeof i&&-1!==r.toLowerCase().indexOf(i.toLowerCase())},lowerize:function lowerize(i){return i.toLowerCase()},major:function major(i){return"string"==typeof i?i.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function trim(i){return i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},b={rgx:function rgx(i,r){for(var a,s,u,c,d,l,f=0;f<r.length&&!d;){var p=r[f],h=r[f+1];for(a=s=0;a<p.length&&!d;)if(d=p[a++].exec(i))for(u=0;u<h.length;u++)l=d[++s],"object"==o(c=h[u])&&c.length>0?2==c.length?"function"==typeof c[1]?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3==c.length?"function"!=typeof c[1]||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):void 0:this[c[0]]=l?c[1].call(this,l,c[2]):void 0:4==c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):void 0):this[c]=l||void 0;f+=2}},str:function str(i,r){for(var a in r)if("object"==o(r[a])&&r[a].length>0){for(var s=0;s<r[a].length;s++)if(g.has(r[a][s],i))return"?"===a?void 0:a}else if(g.has(r[a],i))return"?"===a?void 0:a;return i}},A={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},R={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[l,h],[/(opios)[\/\s]+([\w\.]+)/i],[[l,"Opera Mini"],h],[/\s(opr)\/([\w\.]+)/i],[[l,"Opera"],h],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[l,h],[/(konqueror)\/([\w\.]+)/i],[[l,"Konqueror"],h],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[l,"IE"],h],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[l,"Edge"],h],[/(yabrowser)\/([\w\.]+)/i],[[l,"Yandex"],h],[/(Avast)\/([\w\.]+)/i],[[l,"Avast Secure Browser"],h],[/(AVG)\/([\w\.]+)/i],[[l,"AVG Secure Browser"],h],[/(puffin)\/([\w\.]+)/i],[[l,"Puffin"],h],[/(focus)\/([\w\.]+)/i],[[l,"Firefox Focus"],h],[/(opt)\/([\w\.]+)/i],[[l,"Opera Touch"],h],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[l,"UCBrowser"],h],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],h],[/(windowswechat qbcore)\/([\w\.]+)/i],[[l,"WeChat(Win) Desktop"],h],[/(micromessenger)\/([\w\.]+)/i],[[l,"WeChat"],h],[/(brave)\/([\w\.]+)/i],[[l,"Brave"],h],[/(whale)\/([\w\.]+)/i],[[l,"Whale"],h],[/(qqbrowserlite)\/([\w\.]+)/i],[l,h],[/(QQ)\/([\d\.]+)/i],[l,h],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[l,h],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[l,h],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[l,h],[/(MetaSr)[\/\s]?([\w\.]+)/i],[l],[/(LBBROWSER)/i],[l],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[h,[l,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[h,[l,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[l,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[l,h],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[h,[l,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[l,/(.+)/,"$1 WebView"],h],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[l,/(.+(?:g|us))(.+)/,"$1 $2"],h],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[h,[l,"Android Browser"]],[/(coc_coc_browser)\/([\w\.]+)/i],[[l,"Coc Coc"],h],[/(sailfishbrowser)\/([\w\.]+)/i],[[l,"Sailfish Browser"],h],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[l,h],[/(dolfin)\/([\w\.]+)/i],[[l,"Dolphin"],h],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[l,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[l,"Chrome"],h],[/(coast)\/([\w\.]+)/i],[[l,"Opera Coast"],h],[/fxios\/([\w\.-]+)/i],[h,[l,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[h,[l,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[h,l],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[l,"GSA"],h],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[l,[h,b.str,A.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[l,h],[/(navigator|netscape)\/([\w\.-]+)/i],[[l,"Netscape"],h],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[l,h]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",g.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",g.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",g.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[d,p,[f,_]],[/applecoremedia\/[\w\.]+ \((ipad)/],[d,[p,"Apple"],[f,_]],[/(apple\s{0,1}tv)/i],[[d,"Apple TV"],[p,"Apple"],[f,v]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[p,d,[f,_]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[d,[p,"Amazon"],[f,_]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[d,b.str,A.device.amazon.model],[p,"Amazon"],[f,m]],[/android.+aft([\w])(\sbuild\/|\))/i],[d,[p,"Amazon"],[f,v]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[d,p,[f,m]],[/\((ip[honed|\s\w*]+);/i],[d,[p,"Apple"],[f,m]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[p,d,[f,m]],[/\(bb10;\s(\w+)/i],[d,[p,"BlackBerry"],[f,m]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[d,[p,"Asus"],[f,_]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[p,"Sony"],[d,"Xperia Tablet"],[f,_]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,"Sony"],[f,m]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[p,d,[f,"console"]],[/android.+;\s(shield)\sbuild/i],[d,[p,"Nvidia"],[f,"console"]],[/(playstation\s[34portablevi]+)/i],[d,[p,"Sony"],[f,"console"]],[/(sprint\s(\w+))/i],[[p,b.str,A.device.sprint.vendor],[d,b.str,A.device.sprint.model],[f,m]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[p,[d,/_/g," "],[f,m]],[/(nexus\s9)/i],[d,[p,"HTC"],[f,_]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[d,[p,"Huawei"],[f,m]],[/android.+(bah2?-a?[lw]\d{2})/i],[d,[p,"Huawei"],[f,_]],[/(microsoft);\s(lumia[\s\w]+)/i],[p,d,[f,m]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[d,[p,"Microsoft"],[f,"console"]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,"Microsoft"],[f,m]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[d,[p,"Motorola"],[f,m]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[d,[p,"Motorola"],[f,_]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[p,g.trim],[d,g.trim],[f,v]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,"Samsung"],[f,v]],[/\(dtv[\);].+(aquos)/i],[d,[p,"Sharp"],[f,v]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|SM-P587|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[p,"Samsung"],d,[f,_]],[/smart-tv.+(samsung)/i],[p,[f,v],d],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[p,"Samsung"],d,[f,m]],[/sie-(\w*)/i],[d,[p,"Siemens"],[f,m]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[p,"Nokia"],d,[f,m]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[d,[p,"Acer"],[f,_]],[/android.+([vl]k\-?\d{3})\s+build/i],[d,[p,"LG"],[f,_]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[p,"LG"],d,[f,_]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[p,"LG"],d,[f,v]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[d,[p,"LG"],[f,m]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[p,d,[f,_]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[d,[p,"Lenovo"],[f,_]],[/(lenovo)[_\s-]?([\w-]+)/i],[p,d,[f,m]],[/linux;.+((jolla));/i],[p,d,[f,m]],[/((pebble))app\/[\d\.]+\s/i],[p,d,[f,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[p,d,[f,m]],[/crkey/i],[[d,"Chromecast"],[p,"Google"],[f,v]],[/android.+;\s(glass)\s\d/i],[d,[p,"Google"],[f,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[d,[p,"Google"],[f,_]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[d,[p,"Google"],[f,m]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[d,/_/g," "],[p,"Xiaomi"],[f,m]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[d,/_/g," "],[p,"Xiaomi"],[f,_]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[d,[p,"Meizu"],[f,m]],[/(mz)-([\w-]{2,})/i],[[p,"Meizu"],d,[f,m]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[d,[p,"OnePlus"],[f,m]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[d,[p,"RCA"],[f,_]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[d,[p,"Dell"],[f,_]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[d,[p,"Verizon"],[f,_]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(\S(?:.*\S)?)\s+build/i],[[p,"Barnes & Noble"],d,[f,_]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[d,[p,"NuVision"],[f,_]],[/android.+;\s(k88)\sbuild/i],[d,[p,"ZTE"],[f,_]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[d,[p,"Swiss"],[f,m]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[d,[p,"Swiss"],[f,_]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[d,[p,"Zeki"],[f,_]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[p,"Dragon Touch"],d,[f,_]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[d,[p,"Insignia"],[f,_]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[d,[p,"NextBook"],[f,_]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[p,"Voice"],d,[f,m]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[p,"LvTel"],d,[f,m]],[/android.+;\s(PH-1)\s/i],[d,[p,"Essential"],[f,m]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[d,[p,"Envizen"],[f,_]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[p,d,[f,_]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[d,[p,"MachSpeed"],[f,_]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[p,d,[f,_]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[d,[p,"Rotor"],[f,_]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[p,d,[f,_]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[d,[f,m]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[d,[f,_]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[f,g.lowerize],p,d],[/[\s\/\(](smart-?tv)[;\)]/i],[[f,v]],[/(android[\w\.\s\-]{0,9});.+build/i],[d,[p,"Generic"]],[/(phone)/i],[[f,m]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[h,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,h],[/rv\:([\w\.]{1,9}).+(gecko)/i],[h,l]],os:[[/(xbox);\s+xbox\s([^\);]+)/i,/microsoft\s(windows)\s(vista|xp)/i],[l,h],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[h,b.str,A.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[h,b.str,A.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],h],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[l,h],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[l,"Symbian"],h],[/\((series40);/i],[l],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],h],[/crkey\/([\d\.]+)/i],[h,[l,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[l,h],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],h],[/(sunos)\s?([\w\.\d]*)/i],[[l,"Solaris"],h],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[l,h],[/(haiku)\s(\w+)/i],[l,h],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[h,/_/g,"."],[l,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[l,"Mac OS"],[h,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[l,h]]},j=function w(i,r){if("object"==o(i)&&(r=i,i=void 0),!(this instanceof w))return new w(i,r).getResult();var a=i||(u&&u.navigator&&u.navigator.userAgent?u.navigator.userAgent:""),s=r?g.extend(R,r):R;return this.getBrowser=function(){var i={name:void 0,version:void 0};return b.rgx.call(i,a,s.browser),i.major=g.major(i.version),i},this.getCPU=function(){var i={architecture:void 0};return b.rgx.call(i,a,s.cpu),i},this.getDevice=function(){var i={vendor:void 0,model:void 0,type:void 0};return b.rgx.call(i,a,s.device),i},this.getEngine=function(){var i={name:void 0,version:void 0};return b.rgx.call(i,a,s.engine),i},this.getOS=function(){var i={name:void 0,version:void 0};return b.rgx.call(i,a,s.os),i},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return a},this.setUA=function(i){return a=i,this},this};j.VERSION="0.7.24",j.BROWSER={NAME:l,MAJOR:"major",VERSION:h},j.CPU={ARCHITECTURE:"architecture"},j.DEVICE={MODEL:d,VENDOR:p,TYPE:f,CONSOLE:"console",MOBILE:m,SMARTTV:v,TABLET:_,WEARABLE:"wearable",EMBEDDED:"embedded"},j.ENGINE={NAME:l,VERSION:h},j.OS={NAME:l,VERSION:h},void 0!==r?(void 0!==i&&i.exports&&(r=i.exports=j),r.UAParser=j):void 0===(s=function(){return j}.call(r,a,r,i))||(i.exports=s);var I=u&&(u.jQuery||u.Zepto);if(I&&!I.ua){var D=new j;I.ua=D.getResult(),I.ua.get=function(){return D.getUA()},I.ua.set=function(i){D.setUA(i);var r=D.getResult();for(var a in r)I.ua[a]=r[a]}}}("object"==("undefined"==typeof window?"undefined":o(window))?window:this)},function(i,r,a){"use strict";a.r(r),a.d(r,"AcrobatJS",(function(){return Ne})),a.d(r,"enums",(function(){return s}));var s={};function n(i,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}a.r(s),a.d(s,"PageRequestType",(function(){return be})),a.d(s,"AnnotType",(function(){return je})),a.d(s,"Permissions",(function(){return De})),a.d(s,"ContentType",(function(){return Oe}));var u=Object.freeze(["unknown",'"Kozuka Gothic Pr6N R", "Meiryo", "Hira Kaku Pro N", "Hira Min Pro N", "Noto Sans JP"','"Adobe Heiti Std", "SimSun", "ST Heiti SC", "Adobe Song Std"','"DF Kai Shu", "ST Heiti TC", "Adobe Fan Heiti Std", "MingLiU", "Li Hei Pro", "Adobe Ming Std"','"Gulim", "Apple Gothic", "Adobe Gothic Std", "GulimChe", "Apple Myungjo", "Adobe Myungjo Std"']),c=new(function(){function e(){!function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this._textDataMap={},this._fontNameMap={},this._canvas=document.createElement("canvas")}var i,r;return i=e,(r=[{key:"_getFontWidth",value:function value(i){var r=this._canvas.getContext("2d");return r.font="10px ".concat(i),r.measureText("thequickbrownfoxjumpsovethelazydog").width}},{key:"_fontAvailable",value:function value(i){var r=this._getFontWidth("monospace"),a=this._getFontWidth("serif"),o=this._getFontWidth("sans-serif");return r!==this._getFontWidth('"'.concat(i,'",monospace'))||o!==this._getFontWidth('"'.concat(i,'",sans-serif'))||a!==this._getFontWidth('"'.concat(i,'",serif'))}},{key:"_getCSSFontFaceString",value:function value(i,r){if(void 0===this._fontNameMap[i.psName]){var a=i.bold?"bold ":"",o=i.italic?"italic ":"";this._fontNameMap[i.psName]="".concat(a+o,'10px "').concat(i.displayName?i.displayName:i.psName,'"'),this._textDataMap[i.psName]||(this._fontNameMap[i.psName]="".concat(a+o,"10px ").concat(u[i.language]))}return this._fontNameMap[i.psName].replace("10px","".concat(r,"px"))}},{key:"_prepareContextForFontMatrix",value:function value(i,r){var a=this._canvas.getContext("2d"),o=Math.ceil(1.65*r.size);this._canvas.setAttribute("height",o),this._canvas.setAttribute("width",o),a.font=this._getCSSFontFaceString(i,r.size);var s=-r.top,u=-r.left,c=1/r.size;return a.setTransform(r.a*c,r.b*c,-r.c*c,-r.d*c,u,s),a}},{key:"_getBitmapForCharCode",value:function value(i,r){i.save(),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,this._canvas.width,this._canvas.height),i.restore(),i.fillText(String.fromCharCode(r),0,0);for(var a=i.getImageData(0,0,this._canvas.width,this._canvas.height),o={width:a.width,height:a.height,data:new Uint8ClampedArray(a.width*a.height)},s=0;s<a.width*a.height;s+=1)o.data[s]=a.data[4*s+3];return o}},{key:"_logData",value:function value(i){var r={},a="".concat(i.psName,"(").concat(i.displayName,")");return this._textDataMap[i.psName]?r[a]="ExactFont":i.allowFallback?r[a]="SystemDefault":r[a]="FauxFont",r}},{key:"generateGlyphBitmap",value:function value(i,r){var a=this,o={bitmaps:{}};if(!r)return o;var s=r.matrix;if(void 0===this._textDataMap[r.psName]){var u=this._fontAvailable(r.displayName?r.displayName:r.psName);this._textDataMap[r.psName]=u}if(o.analyticsData=this._logData(r),o[r.psName]=this._textDataMap[r.psName],!this._textDataMap[r.psName]&&!r.allowFallback)return o;var c=this._prepareContextForFontMatrix(r,s);return i.forEach((function(i){if(void 0===o.bitmaps[s.key+i]){var r=a._getBitmapForCharCode(c,i);o.bitmaps[s.key+i]=r}})),o}}])&&n(i.prototype,r),e}()),d=15,l=function y(){return"ms-browser-extension:"===window.location.protocol},f=function k(i,r,a){var o=i;void 0!==r&&void 0!==o&&a.forEach((function(i){var a=r[i];void 0!==a&&(o[i]=a)}))},p=function P(i){var r;for(r=i.length-1;r>=0&&!(i[r]>0);r--);i.splice(r+1)},h=function T(i,r){var a=i.split(".").map((function(i){return parseInt(i,10)})),o=r.split(".").map((function(i){return parseInt(i,10)}));p(a),p(o);for(var s=Math.min(a.length,o.length),u=0;u<s;u+=1){if(a[u]>o[u])return 1;if(a[u]<o[u])return-1}return a.length===o.length?0:a.length<o.length?-1:1},m=function S(){return window.performance?window.performance.now()+window.performance.timing.navigationStart:Date.now()},_=function M(){return window.performance&&window.performance.timing?window.performance.timing.navigationStart:0},v="registerLicense",g="openPDF",b="getPageRangeGeometry",A="getPageRendition",R="addMessagePort",j="getAnnots",I="hitTest",D="selectText",O="getAttachments",x="getBookmarks",C="getAttachmentBuffer",E="getSelectedText",F="getHyperlinkData",B="findText",N="extractPageText",L="createAnnot",G="editAnnot",U="deleteAnnot",W="getAnnotAppearance",z="getDocumentXMPMetadata",q="getPageFontList",J="addFontForViewing",H="setLinearizedBlockSize",V="getFASFields",K="createFASField",Y="deleteFASField",X="updateFASField",$="flattenFASFields",Q=!1,Z=function ae(){var i;Q&&(i=console).log.apply(i,arguments)},ee=a(0),te=a.n(ee),ne=function de(){return(new te.a).getBrowser()},ie=function ce(i){return"13.0",!(-1===h(i,"13.0")||function(i,r){return 1===h(i,"13.1")}(i))};function me(i,r,a){return r in i?Object.defineProperty(i,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[r]=a,i}var re={"acrobat.js.mem":void 0,"acrobat2.js.mem":void 0,"wasm_acrobat.wasm":void 0,"wasm_acrobat2.wasm":void 0,"acrobat_exp.js.mem":void 0,"acrobat2_exp.js.mem":void 0,"wasm_acrobat_exp.wasm":void 0,"wasm_acrobat2_exp.wasm":void 0},oe={"AdobeGlyphNameToUnicodeValue.json":void 0,"AdobePiFontData.bin":void 0,"ASansMMData.bin":void 0,"ASerifMMData.bin":void 0,"cmapdata.bin":void 0,"SymbolFontData.bin":void 0},se=function ve(i,r){var a=i;new Promise((function(i){return a[r]||i(a[r]),(o=r,new Promise((function(i,r){var a=new XMLHttpRequest;a.open("GET",o,!0),a.responseType="arraybuffer",a.onload=function(){var o=a.response;o&&i(o),r(o)},a.onerror=function(i){r(i)},a.send(null)}))).then((function(o){a[r]=URL.createObjectURL(new Blob([o])),i(a[r])}));var o}))},ue=function we(){var i=Object.keys(oe),r=[];return i.forEach((function(i){r.push(se(oe,i))})),Promise.all(r).then((function(){return oe}))},le=Object.freeze({INCORRECT_PASSWORD:3,LINEARIZATION_DICT_NOT_FOUND:4,INCOMPLETE_BUFFER_RANGES_DOWNLOADED:-1,SAB_INDEX_OUT_OF_BOUNDS:-2}),he=Object.freeze({INVALID_BUFFER:"Invalid buffer",SHARED_ARRAY_BUFFER_NOT_SUPPORTED:"Shared array buffer not supported",LINEARIZATION_DICT_NOT_FOUND:"Linearization dict not found",INCOMPLETE_BUFFER_RANGES_DOWNLOADED:"Incomplete pdf buffer ranges downloaded",SAB_INDEX_OUT_OF_BOUNDS:"Shared array buffer index is out of bounds",PASSWORD_PROTECTED_PDF_NOT_SUPPORTED_IN_LINEARIZED_WORKFLOW:"password protected pdf not supported in linearized workflow"});function ye(i,r){return function(i){if(Array.isArray(i))return i}(i)||function(i,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(i)){var a=[],o=!0,s=!1,u=void 0;try{for(var c,d=i[Symbol.iterator]();!(o=(c=d.next()).done)&&(a.push(c.value),!r||a.length!==r);o=!0);}catch(i){s=!0,u=i}finally{try{o||null==d.return||d.return()}finally{if(s)throw u}}return a}}(i,r)||function(i,r){if(i){if("string"==typeof i)return ke(i,r);var a=Object.prototype.toString.call(i).slice(8,-1);return"Object"===a&&i.constructor&&(a=i.constructor.name),"Map"===a||"Set"===a?Array.from(i):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ke(i,r):void 0}}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(i,r){(null==r||r>i.length)&&(r=i.length);for(var a=0,o=new Array(r);a<r;a++)o[a]=i[a];return o}function Pe(i,r){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable}))),a.push.apply(a,o)}return a}function Te(i){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?Pe(Object(a),!0).forEach((function(r){Se(i,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):Pe(Object(a)).forEach((function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(a,r))}))}return i}function Se(i,r,a){return r in i?Object.defineProperty(i,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[r]=a,i}function Me(i){return(Me="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(i){return o(i)}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":o(i)})(i)}function Ae(i,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}var _e="".concat("ajs","PerfTimings"),ge=function(){function e(i){var r=i.ajsPath,a=void 0===r?"":r,o=i.useASM,s=void 0!==o&&o,u=i.useFullBuild,c=void 0!==u&&u,d=i.enableLogging,l=void 0!==d&&d,f=i.workerCreator,p=i.signalDispatcher,h=i.useExperimentalBuild,m=void 0!==h&&h;if(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),!window.Worker)throw new Error("Web Workers not supported!");Object.assign(this,{ajsPath:a,useASM:s,useFullBuild:c,enableLogging:l,signalDispatcher:p,workerCreator:f,useExperimentalBuild:m}),this._messageMap={},this.pluginPortsMap=null,this._switchBinary=!1,this._pdfBuffer=null,this._pdfPassword="",this._workerReady=!1,this._messageCount=0,this.pluginModesEntered=new Map,this.activePluginMode="",this.activePluginModeStartTime=null,this._linearizationInfo={}}var i,r;return i=e,(r=[{key:"_getUpdatedMessageCount",value:function value(){return this._messageCount+=1,this._messageCount}},{key:"_initPromises",value:function value(){var i=this;this.workerLoaded=new Promise((function(r,a){i.workerLoadedResolve=r,i.workerLoadedReject=a}))}},{key:"_shouldLoadASM",value:function value(){var i=this.useASM;return i||(-1!==navigator.userAgent.indexOf("WOW64")&&-1!==navigator.userAgent.indexOf("Chrome")&&(i=!0),-1===navigator.userAgent.indexOf("OS 11_2")||-1===navigator.userAgent.indexOf("iPhone")&&-1===navigator.userAgent.indexOf("iPad")||(i=!0),self.WebAssembly&&"object"===Me(self.WebAssembly)||(i=!0),(function fe(){return("safari"===(i=ne().name.toLowerCase())||"mobile safari"===i)&&ie(ne().version);var i}()||function pe(){var i=(new te.a).getOS();return i&&"iOS"===i.name&&ie(i.version)}())&&(i=!0)),i}},{key:"_createWorker",value:function value(){this.workerCreator&&"function"==typeof this.workerCreator&&(this.worker=this.workerCreator()),this.worker||(this.workerURL="".concat(this.ajsPath,"acrobatProxy.js"),this.worker=new window.Worker(this.workerURL))}},{key:"init",value:function value(){var i=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((function(o,s){i._initResolve=o,i._initReject=s,i.signalDispatcher.trigger(_e,{ajsInit:m()}),i._initPromises(),i._createWorker(),i.worker.onmessage=i._onWorkerMessage.bind(i),i.worker.onerror=i._onWorkerError.bind(i);var u=i._shouldLoadASM(),c={useASM:u,useFullBuild:i._switchBinary||i.useFullBuild,enableLogging:i.enableLogging,totalMemory:r,t4Cache:u?a:Math.max(a,209715200),useExperimentalBuild:i.useExperimentalBuild},d={command:"init",params:c};i._ajsBinaryStartTime=m(),i.signalDispatcher.trigger("ajsBinaryLoadStarted",{startTime:i._ajsBinaryStartTime-_(),isSwitchJs:i._switchBinary}),l()?i._fetchResourcesAndSetValue(c.useFullBuild,u,c.useExperimentalBuild).then((function(){i.worker.postMessage(d)})):i.worker.postMessage(d)}))}},{key:"registerPDFBufferFetcher",value:function value(i){this.fetchPDFBufferRanges=i}},{key:"setPDFBuffer",value:function value(i){var r={command:"setPDFBuffer",params:{buffer:i}};this.signalDispatcher.trigger("completePDFBufferAvailable",{}),this._pdfBuffer=i,this.worker.postMessage(r)}},{key:"terminate",value:function value(){this._terminateWorker()}},{key:"_terminateWorker",value:function value(){this.worker.terminate()}},{key:"_shouldSwitchToFullBuild",value:function value(){return!1===this.useFullBuild&&!1===this._switchBinary}},{key:"_restartWorker",value:function value(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._workerReady=!1,this._terminateWorker(),this.worker=void 0;var r=0,a=0;return i&&this._shouldLoadASM()&&(r=i+(a=62914560)+167772160),this.init(r,a)}},{key:"loadFullWorker",value:function value(){return this._shouldSwitchToFullBuild()?this._switchToFullBuild(void 0,!1):Promise.resolve()}},{key:"getUpdatedPDF",value:function value(){var i={data:{buffer:this._pdfBuffer}};return Promise.resolve(i)}},{key:"_sendMessageListToWorker",value:function value(i,r){var a,o=i&&i.data&&i.data.currEvent||r&&r.data&&r.data.currEvent,s=r&&r.data&&r.data.msgList;if(a=o?{value:o,next:s,priority:1}:s){var u={command:"addMessages",params:{msgList:a}};this._postToWorker(u)}}},{key:"_checkCommandInObject",value:function value(i,r){return i&&i.data&&i.data.currEvent&&i.data.currEvent.command===r}},{key:"_getOpenPdfMessage",value:function value(i){return i&&i.command===g?i:{command:g,priority:1,params:{buffer:this._pdfBuffer,password:this._pdfPassword}}}},{key:"sendPluginPortsToWorker",value:function value(){var i=this;if(this.pluginPortsMap&&this.pluginPortsMap instanceof Map&&this.pluginPortsMap.size>0){var r=[];return this.pluginPortsMap.forEach((function(a,o){var s={command:R,params:{port:a,pluginName:o},transferList:[a]};r.push(i.sendMessageToWorker(s))})),Promise.all(r).then((function(){i.pluginPortsMap=null}))}return Promise.resolve()}},{key:"_cleanUpLinearizationWorkflow",value:function value(){this._linearizationInfo={},this.fetchPDFBufferRanges=null}},{key:"_isLinearizedWorkflow",value:function value(){return this._linearizationInfo.pdfSize}},{key:"_switchToFullBuild",value:function value(i){var r=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=i;return new Promise((function(i,s){var u=[];r.pluginModesEntered.forEach((function(i,r){u.push(Te({name:r},i))}));var c={ajsError:{activePluginMode:r.activePluginMode,pluginModesEntered:u}};if(r.activePluginMode&&r.activePluginModeStartTime){var d=performance.now();c.ajsError.timeSpentInActivePluginMode=d-r.activePluginModeStartTime}if(o&&o.data){var l=o.data,p=l.currEvent,h=l.stackTrace;p?(r._lastEventBeforeSwitch=p,c.ajsError.currEvent=p.command):r._lastMessage&&(c.ajsError.lastProcessedMessage=r._lastMessage),console.log(h),c.ajsError.stackTrace=h}if(o&&(f(c.ajsError,o,["errorCode","filename","lineno","colno"]),o.message&&(c.ajsError.errorMessage=o.message)),r._shouldSwitchToFullBuild()){r._switchBinary=!0,c.ajsError.type=r._isLinearizedWorkflow()?"LinearizationSwitchJS":"FirstTimeSwitchJS",r._latestMemInfo&&(c.ajsError.memInfo=r._latestMemInfo);var m=r._pdfBuffer&&(r._pdfBuffer.length||r._pdfBuffer.byteLength)||0;r._linearizationInfo.pdfSize&&(m=r._linearizationInfo.pdfSize),r.sendMessageToWorker({command:"getMessages",params:{}}).then((function(a){var u=a;r._restartWorker(m).then((function(){if(r._pdfBuffer||r._isLinearizedWorkflow())if(r._checkCommandInObject(o,g)){var a=r._getOpenPdfMessage(o.data.currEvent);delete o.data.currEvent,r.sendMessageToWorker(a),r._checkCommandInObject(u,g)&&delete u.data.currEvent,r._sendMessageListToWorker(o,u)}else if(r._isLinearizedWorkflow())r.fetchPDFBufferRanges([{start:0}]).then((function(a){var s=ye(a,1);r._pdfBuffer=s[0],r._cleanUpLinearizationWorkflow();var c=r._getOpenPdfMessage();r.sendMessageToWorker(c),r._sendMessageListToWorker(o,u),r.sendPluginPortsToWorker(),i()}));else{var s=r._getOpenPdfMessage();r.sendMessageToWorker(s),r._sendMessageListToWorker(o,u)}else r._checkCommandInObject(o,v)&&r._sendMessageListToWorker(o,u);u&&u.data&&(r.pluginPortsMap=u.data.pluginPortsMap),!0!==r._isLinearizedWorkflow()&&(r.sendPluginPortsToWorker(),i())})).catch(s)}))}else r._lastEventBeforeSwitch&&r._lastEventBeforeSwitch.msgId&&(r._callMessageCallback(r._lastEventBeforeSwitch.msgId,{error:"corruptFile"}),r._lastEventBeforeSwitch=null),r._postToWorker({command:"setStateToNotSwitching",params:{}}),c.ajsError.type="SecondTimeSwitchJS";a&&r.signalDispatcher.trigger("ajsError",c.ajsError)}))}},{key:"sendMessageToWorker",value:function value(i){var r=this;if(i.command===g&&i.params){var a=i.params,o=a.buffer,s=a.password,u=a.linearizationInfo;u?(this._linearizationInfo=u,this._int32PartialPDFSAB=new Int32Array(this._linearizationInfo.partialPDFSAB)):(this._pdfBuffer=o,this.signalDispatcher.trigger("completePDFBufferAvailable",{})),this._pdfPassword=s}return new Promise((function(a,o){var s=i;s.msgId||(s.msgId=r._getUpdatedMessageCount(),r._messageMap[s.msgId]=function(i){i.error?o(i):a(i.data)}),r._postToWorker(s)}))}},{key:"_postToWorker",value:function value(i){var r=i;Z("message to worker",r);var a=r.transferList||[];delete r.transferList,this.worker.postMessage(r,a)}},{key:"_updatePluginInfo",value:function value(i){var r=this.activePluginMode;if(this.activePluginMode=i.activePluginMode,this.activePluginMode)this.activePluginModeStartTime=performance.now(),this.pluginModesEntered.has(this.activePluginMode)||this.pluginModesEntered.set(this.activePluginMode,{});else if(r&&this.activePluginModeStartTime){var a=performance.now();this.pluginModesEntered.set(r,{timeSpent:a-this.activePluginModeStartTime}),this.activePluginModeStartTime=null}}},{key:"_notifyBufferRanges",value:function value(i,r){if(i.length!==r.length)this._int32PartialPDFSAB[0]=le.INCOMPLETE_BUFFER_RANGES_DOWNLOADED;else for(var a,o,s=r.length,u=0;u<r.length;u++){if(a=new Uint8Array(r[u]),this._int32PartialPDFSAB[u]=a.length,o=new Int32Array(a,0,a.length),this._int32PartialPDFSAB.length-s<o.length){this._int32PartialPDFSAB[0]=le.SAB_INDEX_OUT_OF_BOUNDS;break}this._int32PartialPDFSAB.set(o,s),s+=o.length}Atomics.notify(this._int32PartialPDFSAB,0,1)}},{key:"_onWorkerMessage",value:function value(i){var r=this,a=i.data;if(Z("message from worker",a),"initDone"===a.message||"init"===a.command){var o=a.proxyInitTime,s=a.importScriptStartTime,u=a.importScriptEndTime;this.signalDispatcher.trigger(_e,{proxyInitTime:o,importScriptStartTime:s,importScriptEndTime:u,ajsLoaded:m()}),this._initResolve(),this._switchBinary||(this._workerReady=!0,this.workerLoadedResolve())}else if("wasmInitTime"===a.command)this.signalDispatcher.trigger("ajsBinaryTotalTime",{ajsBinaryTotalTime:a.time-this._ajsBinaryStartTime}),this.signalDispatcher.trigger(_e,{wasmInitTime:a.time});else if("generateGlyphsBitmap"===a.command){var d=a.resolveId,l=a.params,f=l.fontInfo,p=l.chars,h=c.generateGlyphBitmap(p,f),_=f.matrix;this.signalDispatcher.trigger("unembeddedFontsDetected",{chars:p,fontName:_.fontName});var v={command:"missingFontBitmaps",params:{missingTextData:h,resolveId:d}};this._postToWorker(v)}else if("updatePDFBuffer"===a.command)a.pdfBuffer&&(this._pdfBuffer=a.pdfBuffer);else if("fetchPDFBufferRanges"===a.command)if(this._pdfBuffer){Z("fetchPDFBufferRanges: full pdf available");var g=a.ranges.map((function(i){return r._pdfBuffer.slice(i.start,Math.min(i.end+1,r._pdfBuffer.byteLength))}));this._notifyBufferRanges(a.ranges,g)}else this.fetchPDFBufferRanges(a.ranges).then((function(i){return r._notifyBufferRanges(a.ranges,i)}));else if(a.lastProcessedMessage)this._lastMessage=a.lastProcessedMessage;else if(Object.prototype.hasOwnProperty.call(a,"activePluginMode")&&"string"==typeof a.activePluginMode)this._updatePluginInfo(a);else if("trackingEvent"===a.command)this.signalDispatcher.trigger(a.eventName,a.data);else{this._switchBinary&&"openPDF"===a.command&&(this._workerReady=!0,this.workerLoadedResolve());var b,A=a.msgId,R=a.error;"SWITCHJS"===R&&a&&a.data&&a.data.memInfo&&(this._latestMemInfo=a.data.memInfo),void 0!==A&&("SWITCHJS"===R?this._switchToFullBuild(a):(b=R?Te(Te({},a),{},{error:a.err_code||R}):i,this._callMessageCallback(A,b)))}}},{key:"_callMessageCallback",value:function value(i,r){var a,o=this._messageMap[i];(a=o)&&"function"==typeof a&&o(r),delete this._messageMap[i]}},{key:"_fetchResourcesAndSetValue",value:function value(i,r,a){var o=this,s=[ue()];return r?s.push(function(i,r){var a="";return se(re,a=r?i?"acrobat2_exp.js.mem":"acrobat_exp.js.mem":i?"acrobat2.js.mem":"acrobat.js.mem").then((function(i){return me({},a,i)})).catch((function(i){Z("unable to fetch asm mem file"),Z(i)}))}(i,a)):s.push(function(i,r){var a="";return se(re,a=r?i?"wasm_acrobat2_exp.wasm":"wasm_acrobat_exp.wasm":i?"wasm_acrobat2.wasm":"wasm_acrobat.wasm").then((function(i){return me({},a,i)}))}(i,a)),Promise.all(s).then((function(i){return o.resourcesURLs=Te(Te({},i[0]),i[1]),o.resourcesURLs}))}},{key:"_onWorkerError",value:function value(i){this._switchToFullBuild(i)}}])&&Ae(i.prototype,r),e}(),be=Object.freeze({PAGE:0,PAGE_CACHE:1,THUMBNAIL:2}),je=Object.freeze({TEXT:1,LINK:2,FREE_TEXT:4,LINE:8,SQUARE:16,CIRCLE:32,POLYGON:64,POLYLINE:128,HIGHLIGHT:256,UNDERLINE:512,SQUIGGLY:1024,STRIKEOUT:2048,CARET:4096,STAMP:8192,INK:16384,POPUP:32768,FILE_ATTACHMENT:65536,SOUND:131072,MOVIE:262144,SCREEN:524288,WIDGET:1048576,WATERMARK:2097152,THREE_D:4194304,FREE_TEXT_TYPEWRITER:8388608,ALL:4294967295}),De=Object.freeze({PRINT:4,MODIFY_CONTENT:8,COPY_EXTRACT_CONTENT:16,COMMENTING:32,FORM_FILLING:256,COPY_EXTRACT_CONTENT_ACCESSIBILITY:512,DOCUMENT_ASSEMBLY:1024,HIGH_QUALITY_PRINT:2048}),Oe=Object.freeze({NO_CONTENT:0,TEXT:1,HYPERLINK:2});function Be(i,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}var xe=function(){function e(){!function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this._reset()}var i,r;return i=e,(r=[{key:"_reset",value:function value(){this.commonListeners=[]}},{key:"subscribe",value:function value(i){this.commonListeners.includes(i)||this.commonListeners.push(i)}},{key:"unsubscribe",value:function value(i){this.commonListeners.includes(i)&&this.commonListeners.splice(this.commonListeners.indexOf(i),1)}},{key:"getAllListeners",value:function value(){return this.commonListeners}},{key:"trigger",value:function value(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];this.commonListeners.forEach((function(i){return i.apply(void 0,r.concat(["ajs"]))}))}},{key:"removeAll",value:function value(){this._reset()}}])&&Be(i.prototype,r),e}(),Ee={ZOOM_LEVEL_CHANGE:"zoomLevelChange"};function Ie(i,r){(null==r||r>i.length)&&(r=i.length);for(var a=0,o=new Array(r);a<r;a++)o[a]=i[a];return o}function Re(i){return(Re="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(i){return o(i)}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":o(i)})(i)}function Ce(i,r){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable}))),a.push.apply(a,o)}return a}function ze(i){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?Ce(Object(a),!0).forEach((function(r){Ue(i,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):Ce(Object(a)).forEach((function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(a,r))}))}return i}function Ue(i,r,a){return r in i?Object.defineProperty(i,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[r]=a,i}function Ve(i){if(null==i)throw new TypeError("Cannot destructure undefined")}function He(i,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}var Fe=function(){function e(i){var r=i.ajsPath,a=void 0===r?"":r,o=i.enableLogging,s=void 0!==o&&o,u=i.useASM,c=void 0!==u&&u,d=i.useFullBuild,l=void 0!==d&&d,f=i.workerCreator,p=i.useExperimentalBuild,h=void 0!==p&&p;!function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,{ajsPath:a,useASM:c,useFullBuild:l,enableLogging:s,workerCreator:f,useExperimentalBuild:h}),this._signalDispatcher=new xe,this._pluginsMap=new Map}var i,r;return i=e,(r=[{key:"_attachListenerToPlugin",value:function value(i,r){var a=this._getPlugin(r);a&&a.subscribe(i)}},{key:"_attachAllListenersToPlugin",value:function value(i){var r=this;this._signalDispatcher.getAllListeners().forEach((function(a){return r._attachListenerToPlugin(a,i)}))}},{key:"_attachListenerToAllPlugins",value:function value(i){var r=this;this._pluginsMap.forEach((function(a,o){return r._attachListenerToPlugin(i,o)}))}},{key:"_removeAllListenersFromPlugin",value:function value(i){var r=this._getPlugin(i);r&&this._signalDispatcher.getAllListeners().forEach(r.unsubscribe)}},{key:"_removeListenerFromAllPlugins",value:function value(i){this._pluginsMap.forEach((function(r){return r.unsubscribe(i)}))}},{key:"_checkPluginDoesNotExist",value:function value(i){var r=this,a=i.name;return new Promise((function(i,o){r._getPlugin(a)&&o(new Error("Plugin ".concat(a," already exists"))),i()}))}},{key:"_checkApisDontExist",value:function value(){var i=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(a,o){var s=r.filter((function(r){return i[r]}));s.length&&o(new Error("Following apis already exist: ".concat(s.join(",")))),a()}))}},{key:"_getPlugin",value:function value(i){return this._pluginsMap.has(i)?this._pluginsMap.get(i):null}},{key:"_sendCoreApisToPlugin",value:function value(i){var r=this._getPlugin(i);r&&r.setCoreApis(this._getExposedApis(r.requestedApiList))}},{key:"_getExposedApis",value:function value(){var i=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a={};return r.forEach((function(r){i[r]&&(a[r]=Promise.resolve(i[r].bind(i)))})),a}},{key:"_populateSupportedPluginApis",value:function value(i){var r=this,a=i.name,o=this._getPlugin(a);o.supportedApiList.forEach((function(i){r[i]=o[i].bind(o)}))}},{key:"_removeSupportedPluginApis",value:function value(i){var r=this,a=i.name,o=this._getPlugin(a);o&&o.supportedApiList.forEach((function(i){delete r[i]}))}},{key:"_createMessageChannel",value:function value(i,r){var a=new MessageChannel,o=a.port1,s=a.port2;return Promise.all([this._transferPortToPlugin(o,i),this._transferPortToT4(s,r)])}},{key:"_transferPortToPlugin",value:function value(i,r){var a={params:{port:i},transferList:[i]};return r.addMessagePort(a)}},{key:"_transferPortToT4",value:function value(i,r){var a={command:R,params:{port:i,pluginName:r},transferList:[i]};return this._ajsWorker.sendMessageToWorker(a)}},{key:"_removePluginPortFromT4",value:function value(i){var r={command:"removeMessagePort",params:{pluginName:i}};return this._ajsWorker.sendMessageToWorker(r)}},{key:"init",value:function value(){var i=this.ajsPath,r=this.useASM,a=this.useFullBuild,o=this.enableLogging,s=this.workerCreator,u=this.useExperimentalBuild;return Q=o,this._ajsWorker=new ge({ajsPath:i,useASM:r,useFullBuild:a,enableLogging:o,workerCreator:s,signalDispatcher:this._signalDispatcher,useExperimentalBuild:u}),this._ajsWorker.init()}},{key:"registerPlugin",value:function value(i){var r=this,a=i.plugin,o=i.name,s=i.autoLoad;return this._checkPluginDoesNotExist(i).then((function(){return r._checkApisDontExist(a.supportedApiList)})).then((function(){if(r._pluginsMap.set(o,a),r._populateSupportedPluginApis(i),r._attachAllListenersToPlugin(o),r._sendCoreApisToPlugin(o),s)return r.loadPlugin(i)}))}},{key:"deregisterPlugin",value:function value(i){var r=this,a=i.name;return this.unloadPlugin(i).then((function(){r._removeSupportedPluginApis({name:a}),r._pluginsMap.delete(a),r._removeAllListenersFromPlugin(a)}))}},{key:"loadPlugin",value:function value(i){var r=this,a=i.name,o=this._getPlugin(a);if(o){var s=o.load();return o.isSeparateWorker?s.then((function(i){return r._createMessageChannel(o,a).then((function(){return i}))})):s}return Promise.reject(new Error("Plugin ".concat(a," does not exist")))}},{key:"unloadPlugin",value:function value(i){var r=i.name,a=this._getPlugin(r);return a?(a.isSeparateWorker&&this._removePluginPortFromT4(r),a.unload()):Promise.resolve()}},{key:"getApiListByPlugin",value:function value(i){var r=this._getPlugin(i);return r?r.supportedApiList:[]}},{key:"terminate",value:function value(){this._ajsWorker.terminate(),this._signalDispatcher.removeAll()}},{key:"subscribe",value:function value(i){this._signalDispatcher.subscribe(i),this._attachListenerToAllPlugins(i)}},{key:"unsubscribe",value:function value(i){this._signalDispatcher.unsubscribe(i),this._removeListenerFromAllPlugins(i)}},{key:"registerLicense",value:function value(i){var r=i.token,a=i.domain,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u={command:v,priority:s,viewState:o,params:{token:r,domain:a}};return this._ajsWorker.sendMessageToWorker(u)}},{key:"openPDF",value:function value(i){var r=this,a=i.buffer,o=i.password,s=void 0===o?"":o,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!this._isValidArrayBuffer(a))return Promise.reject({error:he.INVALID_BUFFER});this._signalDispatcher.trigger("openPDFCalled",{});var d={command:g,priority:c,viewState:u,params:{buffer:a,password:s}},l=this._ajsWorker.sendMessageToWorker(d);return l.then((function(i){r._prepareTransformationMatrices(i)})).catch((function(){})),l}},{key:"setLinearizedBlockSize",value:function value(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o={command:H,priority:a,viewState:r,params:{blockSize:i}};return this._ajsWorker.sendMessageToWorker(o)}},{key:"openLinearizedPDF",value:function value(i){var r=this,a=i.buffer,o=i.password,s=void 0===o?"":o,u=i.fetchPDFBufferRanges,c=i.pdfSize,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return void 0===self.SharedArrayBuffer?Promise.reject({error:he.SHARED_ARRAY_BUFFER_NOT_SUPPORTED}):u([{start:0,end:1024}]).then((function(i){var o=4*c+1024,f=i[0],p=new SharedArrayBuffer(o),h={command:g,priority:l,viewState:d,params:{buffer:a,password:s,linearizationInfo:{initialBuffer:f,pdfSize:c,partialPDFSAB:p}}};return r._ajsWorker.registerPDFBufferFetcher(u),r._ajsWorker.sendMessageToWorker(h)})).then((function(i){return i.data.errorCode===le.INCORRECT_PASSWORD?Promise.reject({error:he.PASSWORD_PROTECTED_PDF_NOT_SUPPORTED_IN_LINEARIZED_WORKFLOW}):i.data.errorCode===le.LINEARIZATION_DICT_NOT_FOUND?Promise.reject({error:he.LINEARIZATION_DICT_NOT_FOUND}):(r._prepareTransformationMatrices(i),u([{start:0}]).then((function(i){var a=i[0];a.byteLength>c?r._ajsWorker.loadFullWorker():r._ajsWorker.setPDFBuffer(a)})),i)}))}},{key:"loadFullWorker",value:function value(){return this._ajsWorker.loadFullWorker()}},{key:"getPageRangeGeometry",value:function value(i){var r=i.startPageNum,a=i.endPageNum,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,u={command:b,priority:s,viewState:o,params:{startPageNum:r,endPageNum:a}};return this._ajsWorker.sendMessageToWorker(u)}},{key:"getPageRendition",value:function value(i){var r=i.pageNum,a=i.zoomLevel,o=i.devicePixelRatio,s=i.requestType,u=void 0===s?void 0:s,c=i.showAnnots,d=void 0===c?je.ALL:c,l=i.tileRect,f=void 0===l?void 0:l,p=i.timeLimit,h=void 0===p?void 0:p,m=i.hiddenOCGs,_=void 0===m?[]:m,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,b=new Uint32Array(1);b[0]=d;var R={command:A,priority:g,viewState:v,params:{zoomLevel:a,devicePixelRatio:o,pageNum:r,showAnnots:b[0],tileRect:f,requestType:u,timeLimit:h,hiddenOCGs:_}};return this._ajsWorker.sendMessageToWorker(R)}},{key:"hitTest",value:function value(i){var r=i.pageNum,a=i.x,o=i.y,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,c={command:I,priority:u,viewState:s,params:{pageNum:r,x:a,y:o}};return this._ajsWorker.sendMessageToWorker(c)}},{key:"selectText",value:function value(i){var r=i.startPoint,a=i.endPoint,o=i.forward,s=i.snapToWords,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,d={command:D,priority:c,viewState:u,params:{startPoint:r,endPoint:a,forward:o,snapToWords:s}};return this._ajsWorker.sendMessageToWorker(d)}},{key:"getDocumentXMPMetadata",value:function value(i){Ve(i);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,o={command:z,priority:a,viewState:r,params:{}};return this._ajsWorker.sendMessageToWorker(o)}},{key:"getAttachments",value:function value(i){Ve(i);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,o={command:O,priority:a,viewState:r,params:{}};return this._ajsWorker.sendMessageToWorker(o)}},{key:"getBookmarks",value:function value(i){Ve(i);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,o={command:x,priority:a,viewState:r,params:{}};return this._ajsWorker.sendMessageToWorker(o)}},{key:"getAttachmentBuffer",value:function value(i){var r=i.name,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,s={command:C,priority:o,viewState:a,params:{name:r}};return this._ajsWorker.sendMessageToWorker(s)}},{key:"getSelectedText",value:function value(i){Ve(i);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o={command:E,priority:a,viewState:r,params:{}};return this._ajsWorker.sendMessageToWorker(o)}},{key:"getHyperlinkData",value:function value(i){var r=i.pageNum,a=i.x,o=i.y,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,c={command:F,priority:u,viewState:s,params:{x:a,y:o,pageNum:r}};return this._ajsWorker.sendMessageToWorker(c)}},{key:"findText",value:function value(i){var r=i.text,a=i.startPage,o=i.numPages,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:13,c={command:B,priority:u,viewState:s,params:{text:r,startPage:a,numPages:o}};return this._ajsWorker.sendMessageToWorker(c)}},{key:"extractPageText",value:function value(i){var r=i.pageNum,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,s={command:N,priority:o,viewState:a,params:{pageNum:r}};return this._ajsWorker.loadFullWorker(),this._ajsWorker.sendMessageToWorker(s)}},{key:"getAnnots",value:function value(i){var r=i.pageNum,a=i.annotsFilter,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d,u={command:j,priority:s,viewState:o,params:{pageNum:r,annotsFilter:a}};return this._ajsWorker.sendMessageToWorker(u)}},{key:"createAnnot",value:function value(i){var r=i.data,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d,s={command:L,priority:o,viewState:a,params:{data:r}};return this._ajsWorker.sendMessageToWorker(s)}},{key:"editAnnot",value:function value(i){var r=i.pageNum,a=i.id,o=i.data,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d,c={command:G,priority:u,viewState:s,params:{pageNum:r,id:a,data:o}};return this._ajsWorker.sendMessageToWorker(c)}},{key:"deleteAnnot",value:function value(i){var r=i.pageNum,a=i.id,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d,u={command:U,priority:s,viewState:o,params:{pageNum:r,id:a}};return this._ajsWorker.sendMessageToWorker(u)}},{key:"getAnnotAppearance",value:function value(i){var r=i.pageNum,a=i.id,o=i.zoomLevel,s=i.appearanceSubDict,u=i.appearanceState,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d,f={command:W,priority:l,viewState:c,params:{pageNum:r,id:a,zoomLevel:o,appearanceSubDict:s,appearanceState:u}};return this._ajsWorker.sendMessageToWorker(f)}},{key:"getFASFields",value:function value(i){var r=i.pageNum,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,o={command:V,priority:a,params:{pageNum:r}};return this._ajsWorker.sendMessageToWorker(o)}},{key:"createFASField",value:function value(i){var r=i.pageNum,a=i.data,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,s={command:K,priority:o,params:{pageNum:r,data:a}};return this._ajsWorker.sendMessageToWorker(s)}},{key:"deleteFASField",value:function value(i){var r=i.pageNum,a=i.id,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,s={command:Y,priority:o,params:{pageNum:r,id:a}};return this._ajsWorker.sendMessageToWorker(s)}},{key:"updateFASField",value:function value(i){var r=i.pageNum,a=i.id,o=i.data,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,u={command:X,priority:s,params:{pageNum:r,id:a,data:o}};return this._ajsWorker.sendMessageToWorker(u)}},{key:"flattenFASFields",value:function value(i){Ve(i);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,a={command:$,priority:r,params:{}};return this._ajsWorker.sendMessageToWorker(a)}},{key:"getUpdatedBuffer",value:function value(){var i=this,r=Date.now();return Promise.all(Array.from(this._pluginsMap.values()).map((function(i){return i.doPreSaveOperations?i.doPreSaveOperations():Promise.resolve({saveRequired:!1})}))).then((function(a){var o=Date.now();if(window.TIME_TAKEN_IN_PRE_SAVE_OPS=o-r,-1!==a.findIndex((function(i){return!0===i.saveRequired}))){var s={command:"saveChangesToPDF",priority:20,params:{}};return i._ajsWorker.sendMessageToWorker(s).then((function(){var a=Date.now();return window.TOTAL_TIME_TAKEN_IN_SAVE=a-r,i._ajsWorker.getUpdatedPDF()}))}return i._ajsWorker.getUpdatedPDF()}))}},{key:"getPageFontList",value:function value(i){var r=i.pageNum,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,s={command:q,priority:o,viewState:a,params:{pageNum:r}};return this._ajsWorker.sendMessageToWorker(s)}},{key:"addFontForViewing",value:function value(i){var r=i.name,a=i.type,o=i.buffer,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,c=ArrayBuffer.isView(o)?o.buffer:o;if(!this._isValidArrayBuffer(c))return Promise.reject({error:he.INVALID_BUFFER});var d={command:J,viewState:s,priority:u,params:{name:r,type:a,buffer:c},transferList:[c]};return this._ajsWorker.sendMessageToWorker(d)}},{key:"convertToViewSpace",value:function value(i){var r=i.pageNum,a=i.x,o=i.y,s=i.scale,u=void 0===s?1:s;if(this._pageMatrices&&0!==this._pageMatrices.length){var c=this._pageMatrices[r-1]?this._pageMatrices[r-1]:this._pageMatrices[0],d=c.a*a+c.c*o+c.e,l=c.b*a+c.d*o+c.f;return{x:d=Math.round(d*u),y:l=Math.round(l*u)}}}},{key:"convertToPDFSpace",value:function value(i){var r=i.pageNum,a=i.x,o=i.y,s=i.scale,u=void 0===s?1:s;if(this._pageMatrices&&0!==this._pageMatrices.length){var c=this._pageMatrices[r-1]?this._pageMatrices[r-1]:this._pageMatrices[0],d=a/u,l=o/u,f=c.a*c.d-c.b*c.c;return{x:(c.d*d-c.c*l+c.c*c.f-c.d*c.e)/f,y:(c.a*l-c.b*d+c.b*c.e-c.a*c.f)/f}}}},{key:"clearMessageQueue",value:function value(i){var r=i.evtName,a=function Ge(i,r){if(null==i)return{};var a,o,s=function(i,r){if(null==i)return{};var a,o,s={},u=Object.keys(i);for(o=0;o<u.length;o++)a=u[o],r.indexOf(a)>=0||(s[a]=i[a]);return s}(i,r);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)a=u[o],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(i,a)&&(s[a]=i[a])}return s}(i,["evtName"]);if(!Object.values(Ee).includes(r))return Promise.reject();var o={command:"clearMessageQueue",params:ze({evtName:r},a)};return this._ajsWorker.sendMessageToWorker(o)}},{key:"_isValidArrayBuffer",value:function value(i){return i&&"object"===Re(i)&&i instanceof ArrayBuffer}},{key:"_prepareTransformationMatrices",value:function value(i){var r=this;i.data&&i.data.pages&&(this._pageMatrices=[],i.data.pages.forEach((function(i){var a,o=function Le(i,r){return function(i){if(Array.isArray(i))return i}(i)||function(i,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(i)){var a=[],o=!0,s=!1,u=void 0;try{for(var c,d=i[Symbol.iterator]();!(o=(c=d.next()).done)&&(a.push(c.value),!r||a.length!==r);o=!0);}catch(i){s=!0,u=i}finally{try{o||null==d.return||d.return()}finally{if(s)throw u}}return a}}(i,r)||function(i,r){if(i){if("string"==typeof i)return Ie(i,r);var a=Object.prototype.toString.call(i).slice(8,-1);return"Object"===a&&i.constructor&&(a=i.constructor.name),"Map"===a||"Set"===a?Array.from(i):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ie(i,r):void 0}}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i.boxes.cropBox,4),s=o[0],u=o[1],c=o[2],d=o[3];switch(i.rotation){case 270:a={a:0,b:-1,c:-1,d:0,e:d,f:c};break;case 180:a={a:-1,b:0,c:0,d:1,e:c,f:-u};break;case 90:a={a:0,b:1,c:1,d:0,e:-u,f:-s};break;default:a={a:1,b:0,c:0,d:-1,e:-s,f:d}}r._pageMatrices.push(a)})))}}])&&He(i.prototype,r),e}();Object.defineProperty(Fe,"PageRequestType",{value:be,writable:!1}),Object.defineProperty(Fe,"AnnotType",{value:je,writable:!1}),Object.defineProperty(Fe,"Permissions",{value:De,writable:!1}),Object.defineProperty(Fe,"ContentType",{value:Oe,writable:!1});var Ne=Fe}])},U2vP:function(i,r,a){"use strict";a.d(r,"a",(function(){return _unsupportedIterableToArray}));var o=a("4588");function _unsupportedIterableToArray(i,r){if(i){if("string"==typeof i)return Object(o.a)(i,r);var a=Object.prototype.toString.call(i).slice(8,-1);return"Object"===a&&i.constructor&&(a=i.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(o.a)(i,r):void 0}}},YuTi:function(i,r){i.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children||(i.children=[]),Object.defineProperty(i,"loaded",{enumerable:!0,get:function get(){return i.l}}),Object.defineProperty(i,"id",{enumerable:!0,get:function get(){return i.i}}),i.webpackPolyfill=1),i}},aYiS:function(i,r,a){i.exports=a("hrl5")("WOwn")},dOFO:function(i,r,a){"use strict";function _arrayWithHoles(i){if(Array.isArray(i))return i}a.d(r,"a",(function(){return _arrayWithHoles}))},hrl5:function(i,r){i.exports=window.adobe_dc_sdk["dc-core"]},jQsN:function(i,r,a){i.exports=a("ls82")},ls82:function(i,r,a){i.exports=a("hrl5")("SldL")},qTF4:function(i,r,a){"use strict";function _iterableToArray(i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(i))return Array.from(i)}a.d(r,"a",(function(){return _iterableToArray}))},yLpj:function(i,r,a){i.exports=a("hrl5")("DuR2")}});
//# sourceMappingURL=private/rendition.js.map